# Hexo+Githubåšå®¢æ­å»ºæ•™ç¨‹
æ³¨æ„ï¼Œè¿™ç¯‡æ–‡ç« ç¯‡å¹…è¾ƒé•¿ï¼Œä¸»è¦é’ˆå¯¹æ–°æ‰‹ï¼Œæ¯ä¸€æ­¥å¾ˆè¯¦ç»†ï¼Œæ‰€ä»¥å¯èƒ½ä¼šæ˜¾å¾—æ¯”è¾ƒå•°å—¦ï¼Œæ‰€ä»¥å»ºè®®åŸºç¡€æ¯”è¾ƒå¥½å°ä¼™ä¼´æ ¹æ®ç›®å½•é€‰æ‹©è‡ªå·±æ„Ÿå…´è¶£çš„éƒ¨åˆ†è·³ç€çœ‹ï¼Œä¸è¦æ–‡ç« æ²¡çœ‹ï¼Œä¸Šæ¥å…ˆå–·ä¸€ä¸‹ï¼è°¢è°¢*[Math Processing Error]âŠ™oâŠ™*ã€‚
æ•™ç¨‹å†…å®¹éšæ„å¤åˆ¶ä½¿ç”¨ï¼Œå¼•ç”¨çš„è¯è¯·åŠ ä¸€ä¸ªå‚è€ƒé“¾æ¥ï¼Œè°¢è°¢ï¼

## ğŸŒˆå‰è¨€

### ğŸ˜Šå‰ç½®æƒ³æ³•

å»å¹´åœ¨åšå®¢å›­æ³¨å†Œäº†è‡ªå·±çš„ç¬¬ä¸€ä¸ªåšå®¢ï¼Œå½“æ—¶åˆè¡·å°±æ˜¯æƒ³æ‹¿æ¥ä½œä¸ºè‡ªå·±çš„åœ¨çº¿ç¬”è®°æœ¬ï¼Œåšåšå­¦ä¹ è®°å½•ï¼Œåˆ†äº«ä¸€

äº›å­¦åˆ°çš„ä¸œè¥¿ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹æä¾›çš„åšå®¢æœåŠ¡å…¶å®ä¹ŸæŒºæ–¹ä¾¿ï¼Œç°åœ¨å¸‚é¢ä¸Šæä¾›ç±»ä¼¼æœåŠ¡çš„åšå®¢ç½‘ç«™ä¹Ÿå¾ˆå¤šï¼Œå¦‚

CSDNï¼Œåšå®¢å›­ï¼Œç®€ä¹¦ç­‰å¹³å°ï¼Œå¯ä»¥ç›´æ¥åœ¨ä¸Šé¢å‘è¡¨ï¼Œç”¨æˆ·äº¤äº’åšçš„å¥½ï¼Œå†™çš„æ–‡ç« ç™¾åº¦ä¹Ÿèƒ½æœç´¢çš„åˆ°ã€‚ä½†æ˜¯ç¼º

ç‚¹æ˜¯æ¯”è¾ƒä¸è‡ªç”±ï¼Œä¼šå—åˆ°å¹³å°çš„å„ç§é™åˆ¶å’Œæ¶å¿ƒçš„å¹¿å‘Šï¼Œä¸ªæ€§åŒ–ä¸è¶³ã€‚è€Œè‡ªå·±è´­ä¹°åŸŸåå’ŒæœåŠ¡å™¨ï¼Œæ­å»ºåšå®¢çš„

æˆæœ¬å®åœ¨æ˜¯å¤ªé«˜äº†ï¼Œä¸å…‰æ˜¯è¯´è¿™äº›è´­ä¹°æˆæœ¬ï¼Œå•å•æ˜¯èŠ±åŠ›æ°”å»è‡ªå·±æ­è¿™ä¹ˆä¸€ä¸ªç½‘ç«™ï¼Œè¿˜è¦å®šæœŸçš„ç»´æŠ¤å®ƒï¼Œå¯¹äº

æˆ‘ä»¬å¤§å¤šæ•°äººæ¥è¯´ï¼Œä¹Ÿæ˜¯æ²¡æœ‰è¿™æ ·çš„ç²¾åŠ›å’Œæ—¶é—´ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½è‡ªå·±å®šåˆ¶ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸ªæ€§åŒ–åšå®¢ï¼ŒåŒ

æ—¶ä¹Ÿä¸ç”¨ä»˜å‡ºå¤ªé«˜çš„æˆæœ¬å•¦ï¼Ÿ

ğŸ”åç½®é€‰æ‹©

è¿™å°±å¼•å‡ºäº†ç¬¬ä¸‰ç§é€‰æ‹©ï¼ŒåŸºäºå¼€æºæ¡†æ¶æ­å»ºåšå®¢ï¼Œç„¶åç›´æ¥åœ¨`github page`å¹³å°ä¸Šæ‰˜ç®¡æˆ‘ä»¬çš„åšå®¢ã€‚è¿™æ ·å°±

å¯ä»¥å®‰å¿ƒçš„æ¥å†™ä½œï¼Œåˆä¸éœ€è¦å®šæœŸç»´æŠ¤ï¼ŒåŸºäºè¿™ä¸ªæƒ³æ³•ï¼Œä»Šå¹´8æœˆåˆæš‘å‡åœ¨å®¶çš„çš„æ—¶å€™å¼€å§‹æ­å»ºç¬¬ä¸€ä¸ªå±äºè‡ª

å·±çš„ç‹¬ç«‹åšå®¢ï¼Œå‰åæ–­ç»­å¼„äº†è¿‘ä¸€å‘¨ï¼Œåˆ°ç°åœ¨ç¨å¾®æœ‰ç‚¹æ¨¡æ ·äº†ã€‚æˆ‘æƒ³å¯èƒ½æœ‰å¾ˆå¤šå°ä¼™ä¼´åº”è¯¥ä¹Ÿæƒ³è¿‡æ­å»ºä¸€ä¸ªè‡ª

å·±çš„åšå®¢ï¼Œå½“ç„¶ï¼Œç½‘ä¸Šä¹Ÿæœ‰ä¸€å †è¯¦ç»†æ•™ç¨‹ã€‚å†™è¿™ç¯‡åšå®¢çš„ç›®çš„å¤§æ¦‚æœ‰ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªæ˜¯å½“åšè‡ªå·±çš„æ­å»ºè®°å½•ï¼Œæ–¹

ä¾¿ä»¥åè‡ªå·±éšæ—¶æŸ¥çœ‹æç¤ºä¿®æ”¹ï¼Œç¬¬äºŒä¸ªæ˜¯ç¨ç¨æ€»ç»“ä¸€ä¸‹å…·ä½“çš„æ­å»ºæ­¥éª¤ä»¥åŠä¸€äº›æ”¯æŒä¸ªæ€§åŒ–å®šåˆ¶çš„åšå®¢æºç ä¿®

æ”¹çš„æ•™ç¨‹ï¼Œç¨ç¨åˆ†äº«ä¸€ä¸‹è¿™äº›ä¿®æ”¹ç»éªŒï¼Œå½“ç„¶ï¼Œæ›´å¤šçš„ä¸€äº›ä¸ªæ€§åŒ–æ“ä½œéœ€è¦ä½ è‡ªå·±ä»¥ååœ¨è¿™ä¸ªåŸºç¡€ä¸Šæ…¢æ…¢å»æ‘¸

ç´¢ï¼Œæœ‰äº›å†™çš„ä¸å¤ªå¥½çš„åœ°æ–¹è¿˜å¸Œæœ›çœ‹åˆ°çš„å°ä¼™ä¼´å¤šå¤šåŒ…æ¶µã€‚

**åšå®¢åˆæ­¥çš„é¡µé¢æ•ˆæœå¯ä»¥çœ‹ä¸€ä¸‹æˆ‘çš„åšå®¢**ï¼š[çˆ±ç¬‘çš„Gaoçš„ä¸ªäººåšå®¢](https://manamn.space/)ï¼Œæ¬¢è¿å¤§å®¶æ”¯æŒè®¿é—®ã€‚

æœ¬åšå®¢åŸºäº[Hexo](https://hexo.io/zh-cn/)ï¼Œæ‰€ä»¥é¦–å…ˆè¦äº†è§£ä¸€ä¸‹æˆ‘ä»¬æ­å»ºåšå®¢æ‰€è¦ç”¨åˆ°çš„æ¡†æ¶ã€‚`Hexo`æ˜¯é«˜æ•ˆçš„é™æ€ç½‘ç«™ç”Ÿæˆæ¡†æ¶ï¼Œå®ƒåŸºäº`Node.js`ï¼Œå¿«é€Ÿï¼Œç®€å•ä¸”åŠŸèƒ½å¼ºå¤§ï¼Œæ˜¯æ­å»ºåšå®¢çš„é¦–é€‰æ¡†æ¶ã€‚å¤§å®¶å¯ä»¥è¿›å…¥[hexo](https://hexo.io/zh-cn/)å®˜ç½‘è¿›è¡Œè¯¦ç»†æŸ¥çœ‹ï¼Œå› ä¸º`Hexo`çš„åˆ›å»ºè€…æ˜¯å°æ¹¾äººï¼Œå¯¹ä¸­æ–‡çš„æ”¯æŒå¾ˆå‹å¥½ï¼Œå¯ä»¥é€‰æ‹©ä¸­æ–‡è¿›è¡ŒæŸ¥çœ‹ã€‚é€šè¿‡`Hexo`ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨`Markdown`è¯­æ³•æ¥æ’°å†™åšå®¢ã€‚ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´å†™å·¥ç¨‹éƒ½å†™è¿‡`README.md`æ–‡ä»¶å§ï¼Œå¯¹ï¼Œå°±æ˜¯è¿™ä¸ªæ ¼å¼çš„ï¼å†™å®Œååªéœ€ä¸¤ä¸‰æ¡å‘½ä»¤å³å¯å°†ç”Ÿæˆçš„ç½‘é¡µä¸Šä¼ åˆ°`github`æˆ–è€…`coding`ç­‰ä»£ç ç®¡ç†æ‰˜ç®¡å¹³å°ï¼Œç„¶ååˆ«äººå°±å¯ä»¥æµè§ˆä½ çš„åšå®¢ç½‘é¡µå•¦ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿä½ æ— éœ€å…³å¿ƒç½‘é¡µæºä»£ç çš„å…·ä½“ç”Ÿæˆç»†èŠ‚ï¼Œåªéœ€è¦ç”¨å¿ƒå†™å¥½ä½ çš„åšå®¢æ–‡ç« å†…å®¹å°±è¡Œäº†ã€‚

> ç®€å•æ€»ç»“ï¼š `Hexo `  ï¼Œäº§å“æˆç†Ÿï¼Œä½¿ç”¨ç®€å•ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæœ‰ç€ä¸°å¯Œçš„æ’ä»¶èµ„æºå¯ä¾›ä½¿ç”¨è€…è°ƒç”¨ï¼Œåƒå‘å¸ƒåå° ï¼Œæœç´¢ç³»ç»Ÿï¼Œè¯„è®ºç³»ç»Ÿï¼Œæ”¯æŒMarkdownåµŒå…¥è¯­æ³•ï¼Œç›¸å†ŒåŠŸèƒ½ç­‰ç±»ä¼¼è¯‰æ±‚ï¼Œä½†æ˜¯ä¹Ÿéœ€è¦è‡ªå·±å»æŠ˜è…¾ä¸€ä¸‹ï¼Œåç»­æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥ä»‹ç»ã€‚

**æ•™ç¨‹å¤§è‡´åˆ†ä¸‰ä¸ªéƒ¨åˆ†**ï¼Œ

- ç¬¬ä¸€éƒ¨åˆ†ï¼š`hexo`çš„åˆçº§æ­å»ºè¿˜æœ‰éƒ¨ç½²åˆ°`github page`ä¸Šï¼Œä»¥åŠä¸ªäººåŸŸåçš„ç»‘å®šã€‚
- ç¬¬äºŒéƒ¨åˆ†ï¼š`hexo`çš„åŸºæœ¬é…ç½®ï¼Œæ›´æ¢ä¸»é¢˜ï¼Œå®ç°å¤šç»ˆç«¯å·¥ä½œï¼Œä»¥åŠåœ¨`coding page`éƒ¨ç½²å®ç°å›½å†…å¤–åˆ†æµ
- ç¬¬ä¸‰éƒ¨åˆ†ï¼š`hexo`æ·»åŠ å„ç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬æœç´¢çš„`SEO`ï¼Œé˜…è¯»é‡ç»Ÿè®¡ï¼Œè®¿é—®é‡ç»Ÿè®¡å’Œè¯„è®ºç³»ç»Ÿç­‰ã€‚

## ğŸŒˆç¬¬ä¸€éƒ¨åˆ† æ­å»º

------

`hexo`çš„åˆçº§æ­å»ºè¿˜æœ‰éƒ¨ç½²åˆ°`github page`ä¸Šï¼Œä»¥åŠä¸ªäººåŸŸåçš„ç»‘å®šã€‚

### Hexoæ­å»ºæ­¥éª¤

- 1.å®‰è£…`Git`
- 2.å®‰è£…`Node.js`
- 3.å®‰è£…`Hexo`
- 4.`GitHub`åˆ›å»ºä¸ªäººä»“åº“
- 5.ç”Ÿæˆ`SSH`æ·»åŠ åˆ°`GitHub`
- 6.å°†`hexo`éƒ¨ç½²åˆ°`GitHub`
- 7.è®¾ç½®ä¸ªäººåŸŸå
- 8.å‘å¸ƒæ–‡ç« 

#### 1. å®‰è£…Git

------

ä¸ºäº†æŠŠæœ¬åœ°çš„ç½‘é¡µæ–‡ä»¶ä¸Šä¼ åˆ°`github`ä¸Šé¢å»ï¼Œéœ€è¦ç”¨åˆ°å·¥å…·â€”â€”â€”Git[[ä¸‹è½½åœ°å€\]](https://git-scm.com/download)ã€‚`Git`æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿçš„å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚`Git`éå¸¸å¼ºå¤§ï¼Œå»ºè®®æ¯ä¸ªäººéƒ½å»äº†è§£ä¸€ä¸‹ã€‚å»–é›ªå³°è€å¸ˆçš„`Git`æ•™ç¨‹å†™çš„éå¸¸å¥½ï¼Œå¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹ã€‚[Gitæ•™ç¨‹](https://www.liaoxuefeng.com/wiki/896043488029600)

**windowsï¼š**åˆ°`git`å®˜ç½‘ä¸Šä¸‹è½½`.exe`æ–‡ä»¶,[Download git](https://git-scm.com/download/win),å®‰è£…é€‰é¡¹è¿˜æ˜¯å…¨éƒ¨é»˜è®¤ï¼Œåªä¸è¿‡æœ€åä¸€æ­¥æ·»åŠ è·¯å¾„æ—¶é€‰æ‹©`Use Git from the Windows Command Prompt`ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤æç¤ºç¬¦é‡Œæ‰“å¼€`git`äº†ã€‚

> é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œ`windows`åœ¨`git`å®‰è£…å®Œåï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨`git bash`æ¥æ•²å‘½ä»¤è¡Œäº†ï¼Œä¸ç”¨è‡ªå¸¦çš„`cmd`ï¼Œ`cmd`æœ‰ç‚¹éš¾ç”¨ã€‚

**linuxï¼š**å¯¹`linux`æ¥è¯´å®åœ¨æ˜¯å¤ªç®€å•äº†ï¼Œå› ä¸ºæœ€æ—©çš„`git`å°±æ˜¯åœ¨`linux`ä¸Šç¼–å†™çš„ï¼Œåªéœ€è¦ä¸€è¡Œä»£ç 



```bash
sudo apt-get install git
```

å®‰è£…å®Œæˆååœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥`git --version`æ¥æŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚

#### 2. å®‰è£…nodejs

------

`Hexo`æ˜¯åŸºäº`node.js`ç¼–å†™çš„ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…ä¸€ä¸‹`node.js`å’Œé‡Œé¢çš„`npm`å·¥å…·ã€‚

**windowsï¼š**ä¸‹è½½ç¨³å®šç‰ˆæˆ–è€…æœ€æ–°ç‰ˆéƒ½å¯ä»¥[Node.js](http://nodejs.cn/download/)ï¼Œå®‰è£…é€‰é¡¹å…¨éƒ¨é»˜è®¤ï¼Œä¸€è·¯ç‚¹å‡»`Next`ã€‚
æœ€åå®‰è£…å¥½ä¹‹åï¼ŒæŒ‰`Win+R`æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥`node -v`å’Œ`npm -v`ï¼Œå¦‚æœå‡ºç°ç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆå°±å®‰è£…æˆåŠŸäº†ã€‚

**linuxï¼š**å‘½ä»¤è¡Œå®‰è£…ï¼š



```bash
sudo apt-get install nodejs
sudo apt-get install npm
```

ä¸è¿‡ä¸æ¨èå‘½ä»¤è¡Œå®‰è£…ï¼Œæœ‰æ—¶å€™æœ‰é—®é¢˜ï¼Œå»ºè®®ç›´æ¥åˆ°[nodejså®˜ç½‘](http://nodejs.cn/)å»ä¸‹è½½ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/21bc17da01d84fa880080ce3ae45eb40.png#pic_center)



ç„¶åè§£å‹åˆ°ä½ æŒ‡å®šçš„æ–‡ä»¶å¤¹å³å¯ï¼Œæ¯”å¦‚æˆ‘è§£å‹åˆ°æˆ‘ç³»ç»Ÿçš„ C:\Program Files\nodejs\New Folderç›®å½•ä¸‹äº†ï¼Œå¦‚å›¾:

![image-20220508143555718](https://img-blog.csdnimg.cn/img_convert/a715a58da37d0408937d52928fcea800.png)



> æ³¨æ„æœ¬å‹ç¼©åŒ…æ˜¯`.tar.xz`æ ¼å¼çš„ï¼Œéœ€è¦ä¸¤æ¬¡è§£å‹

é…ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡



```bash
sudo vim /etc/profile
```

Bash

å¤åˆ¶ä¸‹é¢ä¸¤è¡Œåˆ°åˆšæ‰“å¼€çš„`profile`æ–‡ä»¶æœ€åº•éƒ¨(æ³¨æ„`node`çš„å®‰è£…åœ°å€`/home/shw/MySoftwares/node-v12.8.0-linux-x64`æ¢æˆè‡ªå·±çš„)ï¼š



```bash
export NODE_HOME=/home/shw/MySoftwares/node-v12.8.0-linux-x64
export PATH=$PATH:$NODE_HOME/bin
```

Bash

ä¿å­˜åé€€å‡ºï¼Œå†æ‰§è¡Œä¸‹é¢å‘½ä»¤å°†ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼š



```bash
source /etc/profile
```

Bash

å°†ç›®å½•è½¯é“¾æ¥åˆ°å…¨å±€ç¯å¢ƒä¸‹ï¼ˆå‘½ä»¤åé¢çš„`/usr/local/bin/node`æ˜¯å›ºå®šçš„ï¼‰



```bash
sudo ln -s /home/shw/MySoftwares/node-v12.8.0-linux-x64/node /usr/local/bin/node
sudo ln -s /home/shw/MySoftwares/node-v12.8.0-linux-x64/npm /usr/local/bin/npm
```



è¿™æ ·å®‰è£…å¥½äº†ä»¥åä½¿ç”¨`npm`å®‰è£…çš„åŒ…(æ¯”å¦‚ï¼š`ionic serve`)ï¼Œä½¿ç”¨åŒ…çš„å‘½ä»¤æ—¶å¯èƒ½ä¼šæç¤ºæ‰¾ä¸åˆ°å‘½ä»¤ï¼Œæ²¡å…³ç³»ï¼Œåœ¨ç”¨æˆ·ç›®å½•ä¸‹ç»ˆç«¯æ‰§è¡Œä¸‹é¢å‘½ä»¤*[Math Processing Error]å›ºå®šå†™æ³•*ï¼š

```bash
echo -e "export PATH=$(npm prefix -g)/bin:$PATH" >> ~/.bashrc && source ~/.bashrc
```

è¿™æ ·æˆ‘ä»¬åœ¨æ‰€æœ‰ç”¨æˆ·ä¸‹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨`npm`ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`npm`å®‰è£…çš„åŒ…çš„å‘½ä»¤ã€‚æˆåŠŸçš„å°†`nodejs`å®‰è£…å¹¶é…ç½®åˆ°å…¨å±€ç¯å¢ƒä¸‹ã€‚

å®‰è£…å®Œåï¼Œæ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œè¾“å…¥:

```bash
node -v
npm -v
```

æ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰å®‰è£…æˆåŠŸ

#### **æ·»åŠ å›½å†…é•œåƒæº**

å¦‚æœæ²¡æœ‰æ¢¯å­çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œçš„å›½å†…é•œåƒè¿›è¡ŒåŠ é€Ÿã€‚

```bash
npm config set registry https://registry.npm.taobao.org
```

#### 3. å®‰è£…Hexo

------

å‰é¢`git`å’Œ`nodejs`å®‰è£…å¥½åï¼Œå°±å¯ä»¥å®‰è£…`hexo`äº†ï¼Œä½ å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹`MyBlog`ï¼Œç”¨æ¥å­˜æ”¾è‡ªå·±çš„åšå®¢æ–‡ä»¶ï¼Œç„¶å`cd`åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼ˆæˆ–è€…åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ç›´æ¥å³é”®`git bash`æ‰“å¼€ï¼‰ã€‚

æ¯”å¦‚æˆ‘çš„åšå®¢æ–‡ä»¶éƒ½å­˜æ”¾åœ¨`D:\Study\MyBlog`ç›®å½•ä¸‹ã€‚

åœ¨è¯¥ç›®å½•ä¸‹å³é”®ç‚¹å‡»`Git Bash Here`ï¼Œæ‰“å¼€`git`çš„æ§åˆ¶å°çª—å£ï¼Œä»¥åæˆ‘ä»¬æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨`git`æ§åˆ¶å°è¿›è¡Œï¼Œå°±ä¸ç”¨`Windows`è‡ªå¸¦çš„`cmd`äº†ã€‚

å®šä½åˆ°è¯¥ç›®å½•ä¸‹ï¼Œè¾“å…¥`npm install -g hexo-cli`å®‰è£…`Hexo`ã€‚å¯èƒ½ä¼šæœ‰å‡ ä¸ªæŠ¥é”™ï¼Œæ— è§†å®ƒå°±è¡Œã€‚



```bash
npm install -g hexo-cli
```

å®‰è£…å®Œåè¾“å…¥`hexo -v`éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚

è‡³æ­¤`hexo`å°±å®‰è£…å®Œäº†ã€‚

æ¥ä¸‹æ¥åˆå§‹åŒ–ä¸€ä¸‹`hexo`,å³åˆå§‹åŒ–æˆ‘ä»¬çš„ç½‘ç«™ï¼Œè¿›å…¥æˆ‘ä»¬ä¸»é¢˜æ ¹ç›®å½•Hexoï¼Œè¾“å…¥`hexo init`åˆå§‹åŒ–æ–‡ä»¶å¤¹

```bash
hexo init 
```



è¿™ä¸ªHexoå¯ä»¥è‡ªå·±å–ä»€ä¹ˆåå­—éƒ½è¡Œï¼Œç„¶åï¼Œæ¥ç€è¾“å…¥`npm install`å®‰è£…å¿…å¤‡çš„ç»„ä»¶ã€‚



æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹`Hexo`ç›®å½•ä¸‹æœ‰ï¼š

- `node_modules:` ä¾èµ–åŒ…
- `publicï¼š`å­˜æ”¾ç”Ÿæˆçš„é¡µé¢
- `scaffoldsï¼š`ç”Ÿæˆæ–‡ç« çš„ä¸€äº›æ¨¡æ¿
- `sourceï¼š`ç”¨æ¥å­˜æ”¾ä½ çš„æ–‡ç« 
- `themesï¼š`ä¸»é¢˜**
- `_config.yml:` åšå®¢çš„é…ç½®æ–‡ä»¶**

è¿™æ ·æœ¬åœ°çš„ç½‘ç«™é…ç½®ä¹Ÿå¼„å¥½å•¦ï¼Œè¾“å…¥`hexo g`ç”Ÿæˆé™æ€ç½‘é¡µï¼Œç„¶åè¾“å…¥`hexo s`æ‰“å¼€æœ¬åœ°æœåŠ¡å™¨ï¼Œ



```bash
hexo g
hexo server(æˆ–è€…ç®€å†™:hexo sï¼‰)
```



![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ba1f6eb9534f4cc2822ec5f15fae5d5d.png)




æŒ‰`ctrl+c`å…³é—­æœ¬åœ°æœåŠ¡å™¨ã€‚

#### 4. æ³¨å†ŒGithubè´¦å·åˆ›å»ºä¸ªäººä»“åº“

------

æ¥ä¸‹æ¥å°±å»æ³¨å†Œä¸€ä¸ª`github`è´¦å·ï¼Œç”¨æ¥å­˜æ”¾æˆ‘ä»¬çš„ç½‘ç«™ã€‚å¤§å¤šæ•°å°ä¼™ä¼´åº”è¯¥éƒ½æœ‰äº†å§ï¼Œä½œä¸ºä¸€ä¸ªåˆæ ¼çš„ç¨‹åºçŒ¿ï¼ˆåª›ï¼‰è¿˜æ˜¯è¦æœ‰ä¸€ä¸ªçš„ã€‚

æ‰“å¼€https://github.com/ï¼Œæ–°å»ºä¸€ä¸ªé¡¹ç›®ä»“åº“`New repository`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20220508145224112](https://img-blog.csdnimg.cn/img_convert/8c2a797cd36f7bd29af13d1350e61d26.png)





> è¦åˆ›å»ºä¸€ä¸ªå’Œä½ ç”¨æˆ·åç›¸åŒçš„ä»“åº“ï¼Œåé¢åŠ .[http://github.ioï¼Œåªæœ‰è¿™æ ·ï¼Œå°†æ¥è¦éƒ¨ç½²åˆ°`GitHub page`çš„æ—¶å€™ï¼Œæ‰ä¼šè¢«è¯†åˆ«ï¼Œä¹Ÿå°±æ˜¯http://xxxx.github.ioï¼Œå…¶ä¸­xxxå°±æ˜¯ä½ æ³¨å†Œ`GitHub`çš„ç”¨æˆ·åã€‚ä¾‹å¦‚æˆ‘çš„ï¼š[http://gaoziman.github.io](http://gaoziman.github.io/)

#### 5. ç”ŸæˆSSHæ·»åŠ åˆ°GitHub

------

ç”Ÿæˆ`SSH`æ·»åŠ åˆ°`GitHub`ï¼Œè¿æ¥`Github`ä¸æœ¬åœ°ã€‚
å³é”®æ‰“å¼€`git bash`ï¼Œç„¶åè¾“å…¥ä¸‹é¢å‘½ä»¤ï¼š

```bash
git config --global user.name "yourname"
git config --global user.email "youremail"
```

æ³¨æ„ï¼šç¬¬ä¸€æ¬¡ä½¿ç”¨gitåéœ€è¦å°†ç”¨æˆ·åå’Œé‚®ç®±è¿›è¡Œåˆå§‹åŒ–

è¿™é‡Œçš„`yourname`è¾“å…¥ä½ çš„`GitHub`ç”¨æˆ·åï¼Œ`youremail`è¾“å…¥ä½ `GitHub`çš„é‚®ç®±ã€‚è¿™æ ·`GitHub`æ‰èƒ½çŸ¥é“ä½ æ˜¯ä¸æ˜¯å¯¹åº”å®ƒçš„è´¦æˆ·ã€‚ä¾‹å¦‚æˆ‘çš„ï¼š

```bash
git config --global user.name "gaiolan"
git config --global user.email "2942892675@qq.com"
```

å¯ä»¥ç”¨ä»¥ä¸‹ä¸¤æ¡ï¼Œæ£€æŸ¥ä¸€ä¸‹ä½ æœ‰æ²¡æœ‰è¾“å¯¹

```bash
git config user.name
git config user.email
```



ç„¶ååˆ›å»º`SSH`,ä¸€è·¯å›è½¦

> `ssh`ï¼Œç®€å•æ¥è®²ï¼Œå°±æ˜¯ä¸€ä¸ªç§˜é’¥ï¼Œå…¶ä¸­ï¼Œ`id_rsa`æ˜¯ä½ è¿™å°ç”µè„‘çš„ç§äººç§˜é’¥ï¼Œä¸èƒ½ç»™åˆ«äººçœ‹çš„ï¼Œ`id_rsa.pub`æ˜¯å…¬å…±ç§˜é’¥ï¼Œå¯ä»¥éšä¾¿ç»™åˆ«äººçœ‹ã€‚æŠŠè¿™ä¸ªå…¬é’¥æ”¾åœ¨`GitHub`ä¸Šï¼Œè¿™æ ·å½“ä½ é“¾æ¥`GitHub`è‡ªå·±çš„è´¦æˆ·æ—¶ï¼Œå®ƒå°±ä¼šæ ¹æ®å…¬é’¥åŒ¹é…ä½ çš„ç§é’¥ï¼Œå½“èƒ½å¤Ÿç›¸äº’åŒ¹é…æ—¶ï¼Œæ‰èƒ½å¤Ÿé¡ºåˆ©çš„é€šè¿‡`git`ä¸Šä¼ ä½ çš„æ–‡ä»¶åˆ°`GitHub`ä¸Šã€‚



```bash
ssh-keygen -t rsa -C "youremail"
```



è¿™ä¸ªæ—¶å€™å®ƒä¼šå‘Šè¯‰ä½ å·²ç»ç”Ÿæˆäº†`.ssh`çš„æ–‡ä»¶å¤¹ã€‚åœ¨ä½ çš„ç”µè„‘ä¸­æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚æˆ–è€…`git bash`ä¸­è¾“å…¥



```bash
cat ~/.ssh/id_rsa.pub
```



å°†è¾“å‡ºçš„å†…å®¹å¤åˆ¶åˆ°æ¡†ä¸­ï¼Œç‚¹å‡»ç¡®å®šä¿å­˜ã€‚

æ‰“å¼€[github](http://github.com/)ï¼Œåœ¨å¤´åƒä¸‹é¢ç‚¹å‡»`settings`ï¼Œå†ç‚¹å‡»`SSH and GPG keys`ï¼Œæ–°å»ºä¸€ä¸ª`SSH`ï¼Œåå­—éšä¾¿å–ä¸€ä¸ªéƒ½å¯ä»¥ï¼ŒæŠŠä½ çš„`id_rsa.pub`é‡Œé¢çš„ä¿¡æ¯å¤åˆ¶è¿›å»ã€‚å¦‚å›¾ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f3605a78ccdf4dbb85d3a28c6b6baf57.png)


åœ¨`git bash`è¾“å…¥`ssh -T git@github.com`ï¼Œå¦‚æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå‡ºç°ä½ çš„ç”¨æˆ·åï¼Œé‚£å°±æˆåŠŸäº†ã€‚

![image-20220508145723991](https://img-blog.csdnimg.cn/img_convert/c35c1fdcc501db201cc9cd979016968d.png)



#### 6. å°†hexoéƒ¨ç½²åˆ°GitHub

------

è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†`hexo`å’Œ`GitHub`å…³è”èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯å°†`hexo`ç”Ÿæˆçš„æ–‡ç« éƒ¨ç½²åˆ°`GitHub`ä¸Šï¼Œæ‰“å¼€åšå®¢æ ¹ç›®å½•ä¸‹çš„`_config.yml`æ–‡ä»¶ï¼Œè¿™æ˜¯åšå®¢çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥ä¿®æ”¹ä¸åšå®¢é…ç½®ç›¸å…³çš„å„ç§ä¿¡æ¯ã€‚

ä¿®æ”¹æœ€åä¸€è¡Œçš„é…ç½®ï¼š



```yml
deploy:
  type: git
  repository: https://github.com/gaoziman/gaoziman.github.io.git
  branch: master
```



`repository`ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„`github`é¡¹ç›®åœ°å€å³å¯å°±æ˜¯éƒ¨ç½²æ—¶ï¼Œå‘Šè¯‰å·¥å…·ï¼Œå°†ç”Ÿæˆç½‘é¡µé€šè¿‡`git`æ–¹å¼ä¸Šä¼ åˆ°ä½ å¯¹åº”çš„é“¾æ¥ä»“åº“ä¸­ã€‚

è¿™ä¸ªæ—¶å€™éœ€è¦å…ˆå®‰è£…`deploy-git` ï¼Œä¹Ÿå°±æ˜¯éƒ¨ç½²çš„å‘½ä»¤,è¿™æ ·ä½ æ‰èƒ½ç”¨å‘½ä»¤éƒ¨ç½²åˆ°`GitHub`ã€‚



```bash
npm install hexo-deployer-git --save
```

ç„¶å

```bash
hexo clean
hexo generate
hexo deploy
```



å…¶ä¸­ `hexo clean`æ¸…é™¤äº†ä½ ä¹‹å‰ç”Ÿæˆçš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥ä¸åŠ ã€‚ `hexo generate`é¡¾åæ€ä¹‰ï¼Œç”Ÿæˆé™æ€æ–‡ç« ï¼Œå¯ä»¥ç”¨ `hexo g`ç¼©å†™ ï¼Œ`hexo deploy`éƒ¨ç½²æ–‡ç« ï¼Œå¯ä»¥ç”¨`hexo d`ç¼©å†™

> æ³¨æ„`deploy`æ—¶å¯èƒ½è¦ä½ è¾“å…¥`username`å’Œ`password`ã€‚

å¾—åˆ°ä¸‹å›¾å°±è¯´æ˜éƒ¨ç½²æˆåŠŸäº†ï¼Œè¿‡ä¸€ä¼šå„¿å°±å¯ä»¥åœ¨[http://yourname.github.io](http://yourname.github.io/) è¿™ä¸ªç½‘ç«™çœ‹åˆ°ä½ çš„åšå®¢äº†ï¼ï¼

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/dcd004ba5e8f46f69aca275af20225f0.png#pic_center)




#### 7. è®¾ç½®ä¸ªäººåŸŸå

------

ç°åœ¨ä½ çš„ä¸ªäººç½‘ç«™çš„åœ°å€æ˜¯`yourname.github.io`ï¼Œå¦‚æœè§‰å¾—è¿™ä¸ªç½‘å€é€¼æ ¼ä¸å¤ªå¤Ÿï¼Œè¿™å°±éœ€è¦ä½ è®¾ç½®ä¸ªäººåŸŸåäº†ã€‚ä½†æ˜¯éœ€è¦èŠ±é’±ã€‚

> **ä¸è¿‡ï¼Œè¿™ä¸€æ­¥ä¸æ˜¯å¿…è¦çš„ï¼Œå¦‚æœç›®å‰è¿˜ä¸æƒ³ä¹°åŸŸåå¯ä»¥å…ˆè·³è¿‡ï¼Œç»§ç»­çœ‹åé¢çš„ï¼Œä»¥åæƒ³ä¹°åŸŸåäº†åœ¨è¿˜çœ‹è¿™å—**

é¦–å…ˆä½ å¾—è´­ä¹°ä¸€ä¸ªä¸“å±åŸŸåï¼Œ`xx`äº‘éƒ½èƒ½ä¹°ï¼Œçœ‹ä½ ä¸ªäººå–œå¥½äº†ã€‚

è¿™ç¯‡ä»¥è…¾è®¯äº‘ä¸ºä¾‹ï¼Œé˜¿é‡Œäº‘å®˜ç½‘è´­ä¹°ï¼š

![image-20220508150329881](https://img-blog.csdnimg.cn/img_convert/b667393025a1024a3fee7196c85fe3d6.png)


ç„¶åå®åè®¤è¯åè¿›å…¥è…¾è®¯äº‘æ§åˆ¶å°ï¼Œç‚¹äº‘è§£æè¿›å»ï¼Œæ‰¾åˆ°ä½ åˆšä¹°çš„åŸŸåï¼Œç‚¹è¿›å»æ·»åŠ ä¸¤æ¡è§£æè®°å½•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/c3dd889e472d4462901d8029d18a60b1.png)




ç„¶åæ‰“å¼€ä½ çš„`github`åšå®¢é¡¹ç›®ï¼Œç‚¹å‡»`settings`ï¼Œæ‹‰åˆ°ä¸‹é¢`Custom domain`å¤„ï¼Œå¡«ä¸Šä½ è‡ªå·±çš„åŸŸåï¼Œä¿å­˜ï¼š

![](https://img-blog.csdnimg.cn/ff00c03c387b41ce9e8084aa86b25acf.png)




è¿™æ—¶å€™ä½ çš„é¡¹ç›®æ ¹ç›®å½•åº”è¯¥ä¼šå‡ºç°ä¸€ä¸ªåä¸º`CNAME`çš„æ–‡ä»¶äº†ã€‚å¦‚æœæ²¡æœ‰çš„è¯ï¼Œæ‰“å¼€ä½ æœ¬åœ°åšå®¢`/source`ç›®å½•ï¼Œæˆ‘çš„æ˜¯`D:\Study\MyBlog\source`ï¼Œæ–°å»º`CNAME`æ–‡ä»¶ï¼Œæ³¨æ„æ²¡æœ‰åç¼€ã€‚ç„¶ååœ¨é‡Œé¢å†™ä¸Šä½ çš„åŸŸåï¼Œä¿å­˜ã€‚æœ€åè¿è¡Œ`hexo g`ã€`hexo d`ä¸Šä¼ åˆ°`github`ã€‚

è¿‡ä¸äº†å¤šä¹…ï¼Œå†æ‰“å¼€ä½ çš„æµè§ˆå™¨ï¼Œè¾“å…¥ä½ è‡ªå·±çš„ä¸“å±åŸŸåï¼Œå°±å¯ä»¥çœ‹åˆ°æ­å»ºçš„ç½‘ç«™å•¦ï¼


#### 8. å†™æ–‡ç« ã€å‘å¸ƒæ–‡ç« 

------

é¦–å…ˆåœ¨åšå®¢æ ¹ç›®å½•ä¸‹å³é”®æ‰“å¼€`git bash`ï¼Œå®‰è£…ä¸€ä¸ªæ‰©å±•`npm i hexo-deployer-git`ã€‚

ç„¶åè¾“å…¥`hexo new post "æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢"`ï¼Œæ–°å»ºä¸€ç¯‡æ–‡ç« ã€‚

ç„¶åæ‰“å¼€`D:\Hexo\source\_posts`çš„ç›®å½•ï¼Œå¯ä»¥å‘ç°ä¸‹é¢å¤šäº†ä¸€ä¸ªæ–‡ä»¶å¤¹å’Œä¸€ä¸ª`.md`æ–‡ä»¶ï¼Œä¸€ä¸ªç”¨æ¥å­˜æ”¾ä½ çš„å›¾ç‰‡ç­‰æ•°æ®ï¼Œå¦ä¸€ä¸ªå°±æ˜¯ä½ çš„æ–‡ç« æ–‡ä»¶å•¦ã€‚
ä½ å¯ä»¥ä¼šç›´æ¥åœ¨`vscode`é‡Œé¢ç¼–å†™`markdown`æ–‡ä»¶ï¼Œå¯ä»¥å®æ—¶é¢„è§ˆï¼Œä¹Ÿå¯ä»¥ç”¨ç”¨å…¶ä»–ç¼–è¾‘`md`æ–‡ä»¶çš„è½¯ä»¶çš„å·¥å…·ç¼–å†™ã€‚
ç¼–å†™å®Œmarkdownæ–‡ä»¶åï¼Œæ ¹ç›®å½•ä¸‹è¾“å…¥`hexo g`ç”Ÿæˆé™æ€ç½‘é¡µï¼Œç„¶åè¾“å…¥`hexo s`å¯ä»¥æœ¬åœ°é¢„è§ˆæ•ˆæœï¼Œæœ€åè¾“å…¥`hexo d`ä¸Šä¼ åˆ°`github`ä¸Šã€‚è¿™æ—¶æ‰“å¼€ä½ çš„`github.io`ä¸»é¡µå°±èƒ½çœ‹åˆ°å‘å¸ƒçš„æ–‡ç« å•¦ã€‚

åˆ°è¿™å„¿åŸºæœ¬ç¬¬ä¸€éƒ¨åˆ†å°±å®Œæˆäº†ï¼Œå·²ç»å®Œæ•´æ­å»ºèµ·ä¸€ä¸ªæ¯”è¾ƒç®€é™‹çš„ä¸ªäººåšå®¢äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥å¯¹æˆ‘ä»¬çš„åšå®¢è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶äº†ã€‚

## ğŸŒˆç¬¬äºŒéƒ¨ å®šåˆ¶ä¸»é¢˜

æˆ‘ä»¬è¦å®šåˆ¶è‡ªå·±çš„åšå®¢çš„è¯ï¼Œé¦–å…ˆå°±è¦æ¥äº†è§£ä¸€ä¸‹`Hexo`åšå®¢çš„ä¸€äº›ç›®å½•å’Œæ–‡ä»¶çš„ä½œç”¨ï¼Œä»¥åŠå¦‚ä½•å¹³æ»‘æ›´æ¢æ¼‚äº®çš„ä¸»é¢˜æ¨¡æ¿å¹¶åŠ å…¥è‡ªå·±çš„å®šåˆ¶æºä»£ç å®ç°ä¸ªæ€§åŒ–å®šåˆ¶

### 1. Hexoç›¸å…³ç›®å½•æ–‡ä»¶

#### 1.1 åšå®¢ç›®å½•æ„æˆä»‹ç»

------

æˆ‘ä»¬åšå®¢çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```json
- node_modules
- public
- scaffolds
- source
    - _data
    - _posts
    - about
    - archives
    - categories
    - friends
    - tags
- themes
```

`node_modules`æ˜¯`node.js`å„ç§åº“çš„ç›®å½•ï¼Œ`public`æ˜¯ç”Ÿæˆçš„ç½‘é¡µæ–‡ä»¶ç›®å½•ï¼Œ`scaffolds`é‡Œé¢å°±ä¸‰ä¸ªæ–‡ä»¶ï¼Œå­˜å‚¨ç€æ–°æ–‡ç« å’Œæ–°é¡µé¢çš„åˆå§‹è®¾ç½®ï¼Œ`source`æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨åˆ°çš„ä¸€ä¸ªç›®å½•ï¼Œé‡Œé¢å­˜æ”¾ç€æ–‡ç« ã€å„ç±»é¡µé¢ã€å›¾åƒç­‰æ–‡ä»¶ï¼Œ`themes`å­˜æ”¾ç€ä¸»é¢˜æ–‡ä»¶ï¼Œä¸€èˆ¬ä¹Ÿç”¨ä¸åˆ°ã€‚

æˆ‘ä»¬å¹³æ—¶å†™æ–‡ç« åªéœ€è¦å…³æ³¨`source/_posts`è¿™ä¸ªæ–‡ä»¶å¤¹å°±è¡Œäº†ã€‚

#### 1.2 hexoåŸºæœ¬é…ç½®

------

åœ¨æ–‡ä»¶æ ¹ç›®å½•ä¸‹çš„`_config.yml`ï¼Œå°±æ˜¯æ•´ä¸ª`hexo`æ¡†æ¶çš„é…ç½®æ–‡ä»¶äº†ã€‚å¯ä»¥åœ¨é‡Œé¢ä¿®æ”¹å¤§éƒ¨åˆ†çš„é…ç½®ã€‚è¯¦ç»†å¯å‚è€ƒå®˜æ–¹çš„[é…ç½®æè¿°](https://hexo.io/zh-cn/docs/configuration)ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6fed7932514a45f1b123403902cd1727.png)


##### 1.2.1 ç½‘ç«™

------

å‚æ•°æè¿°`title`ç½‘ç«™æ ‡é¢˜`subtitle`ç½‘ç«™å‰¯æ ‡é¢˜`description`ç½‘ç«™æè¿°`author`æ‚¨çš„åå­—`language`ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€`timezone`ç½‘ç«™æ—¶åŒºã€‚`Hexo` é»˜è®¤ä½¿ç”¨æ‚¨ç”µè„‘çš„æ—¶åŒºã€‚æ—¶åŒºåˆ—è¡¨ã€‚æ¯”å¦‚è¯´ï¼š`America/New_York, Japan`, å’Œ `UTC` ã€‚

å…¶ä¸­ï¼Œ`description`ä¸»è¦ç”¨äº`SEO`ï¼Œå‘Šè¯‰æœç´¢å¼•æ“ä¸€ä¸ªå…³äºæ‚¨ç«™ç‚¹çš„ç®€å•æè¿°ï¼Œé€šå¸¸å»ºè®®åœ¨å…¶ä¸­åŒ…å«æ‚¨ç½‘ç«™çš„å…³é”®è¯ã€‚`author`å‚æ•°ç”¨äºä¸»é¢˜æ˜¾ç¤ºæ–‡ç« çš„ä½œè€…ã€‚

##### 1.2.2 ç½‘å€

------

å‚æ•°æè¿°`url`ç½‘å€`root`ç½‘ç«™æ ¹ç›®å½• `permalink`æ–‡ç« çš„[æ°¸ä¹…é“¾æ¥](https://hexo.io/zh-cn/docs/permalinks)æ ¼å¼`permalink_defaults`æ°¸ä¹…é“¾æ¥ä¸­å„éƒ¨åˆ†çš„é»˜è®¤å€¼

åœ¨è¿™é‡Œï¼Œä½ éœ€è¦æŠŠ`url`æ”¹æˆä½ çš„**ç½‘ç«™åŸŸå**ã€‚

`permalink`ï¼Œä¹Ÿå°±æ˜¯ä½ ç”ŸæˆæŸä¸ªæ–‡ç« æ—¶çš„é‚£ä¸ªé“¾æ¥æ ¼å¼ã€‚

æ¯”å¦‚æˆ‘æ–°å»ºä¸€ä¸ªæ–‡ç« å«`temp.md`ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ä»–è‡ªåŠ¨ç”Ÿæˆçš„åœ°å€å°±æ˜¯`http://yoursite.com/2022/05/08/temp`ã€‚

ä»¥ä¸‹æ˜¯å®˜æ–¹ç»™å‡ºçš„ç¤ºä¾‹ï¼Œå…³äºé“¾æ¥çš„å˜é‡è¿˜æœ‰å¾ˆå¤šï¼Œéœ€è¦çš„å¯ä»¥å»å®˜ç½‘ä¸ŠæŸ¥æ‰¾ [æ°¸ä¹…é“¾æ¥](https://hexo.io/zh-cn/docs/permalinks) ã€‚

> å‚æ•°ç»“æœ:year/:month/:day/:title/2019/08/10/hello-world :year-:month-:day-:title.html 2019-08-10-hello-world.html :category/:titlefoo/bar/hello-world

å†å¾€ä¸‹ç¿»ï¼Œä¸­é—´è¿™äº›éƒ½é»˜è®¤å°±å¥½äº†ã€‚



```yml
theme: landscap
```

`theme`å°±æ˜¯é€‰æ‹©ä»€ä¹ˆä¸»é¢˜ï¼Œä¹Ÿå°±æ˜¯åœ¨`themes`è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œåœ¨å®˜ç½‘ä¸Šæœ‰å¾ˆå¤šä¸ªä¸»é¢˜ï¼Œé»˜è®¤ç»™ä½ å®‰è£…çš„æ˜¯`lanscape`è¿™ä¸ªä¸»é¢˜ã€‚å½“ä½ éœ€è¦æ›´æ¢ä¸»é¢˜æ—¶ï¼Œåœ¨å®˜ç½‘ä¸Šä¸‹è½½ï¼ŒæŠŠä¸»é¢˜çš„æ–‡ä»¶æ”¾åœ¨`themes`æ–‡ä»¶å¤¹ä¸‹ï¼Œå†ä¿®æ”¹è¿™ä¸ªä¸»é¢˜å‚æ•°å°±å¯ä»¥äº†ã€‚

##### 1.2.3 Front-matter

------

`Front-matter` æ˜¯`md`æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ `---`åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š

```
title: Hexo+Githubåšå®¢æ­å»ºè®°å½•
date: 2022-05-08 15:15:44
```

ä¸‹æ˜¯é¢„å…ˆå®šä¹‰çš„å‚æ•°ï¼Œæ‚¨å¯åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¿™äº›å‚æ•°å€¼å¹¶åŠ ä»¥åˆ©ç”¨ã€‚

å‚æ•°æè¿°`layout`å¸ƒå±€`title`æ ‡é¢˜`date`å»ºç«‹æ—¥æœŸ`updated`æ›´æ–°æ—¥æœŸ`comments`å¼€å¯æ–‡ç« çš„è¯„è®ºåŠŸèƒ½`tags`æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰`categories`åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰`permalink`è¦†ç›–æ–‡ç« ç½‘å€

å…¶ä¸­ï¼Œåˆ†ç±»å’Œæ ‡ç­¾éœ€è¦åŒºåˆ«ä¸€ä¸‹ï¼Œåˆ†ç±»å…·æœ‰é¡ºåºæ€§å’Œå±‚æ¬¡æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´`Foo`ï¼Œ`Bar`ä¸ç­‰äº`Bar`ï¼Œ`Foo`ï¼›è€Œæ ‡ç­¾æ²¡æœ‰é¡ºåºå’Œå±‚æ¬¡ã€‚



```yml
---
title: Hexo+Githubåšå®¢æ­å»ºè®°å½•
date: 2022-05-08 15:15:44
author: çˆ±ç¬‘çš„Gao
img: /medias/banner/7.jpg
coverImg: /medias/banner/7.jpg
top: true
cover: true
toc: true
password: 5f15b28ffe43f8be4f239bdd9b69af9d80dbafcb20a5f0df5d1677a120ae9110
mathjax: true
summary: è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦
tags:
- Hexo
- Github
- åšå®¢
categories:
- è½¯ä»¶å®‰è£…ä¸é…ç½®
---
```



#### 1.2.4 layoutï¼ˆå¸ƒå±€ï¼‰

------

**1.2.4.1 post**

å½“ä½ æ¯ä¸€æ¬¡ä½¿ç”¨ä»£ç 



```bash
hexo new XXX
```

å®ƒå…¶å®é»˜è®¤ä½¿ç”¨çš„æ˜¯`post`è¿™ä¸ªå¸ƒå±€ï¼Œä¹Ÿå°±æ˜¯åœ¨`source`æ–‡ä»¶å¤¹ä¸‹çš„`_post`é‡Œé¢ã€‚

`Hexo`æœ‰ä¸‰ç§é»˜è®¤å¸ƒå±€ï¼š`post`ã€`page`å’Œ`draft`ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”ä¸åŒçš„è·¯å¾„ï¼Œè€Œæ‚¨è‡ªå®šä¹‰çš„å…¶ä»–å¸ƒå±€å’Œ`post`ç›¸åŒï¼Œéƒ½å°†å‚¨å­˜åˆ°`source/_posts`æ–‡ä»¶å¤¹ã€‚

è€Œnewè¿™ä¸ªå‘½ä»¤å…¶å®æ˜¯ï¼š



```bash
hexo new [layout] <title>
```



åªä¸è¿‡è¿™ä¸ª`layout`é»˜è®¤æ˜¯`post`ç½¢äº†ã€‚

**1.2.4.2 page**

å¦‚æœä½ æƒ³å¦èµ·ä¸€é¡µï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨

```bash
hexo new page newpage
```

ç³»ç»Ÿä¼šè‡ªåŠ¨ç»™ä½ åœ¨`source`æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª`newpage`æ–‡ä»¶å¤¹ï¼Œä»¥åŠ`newpage`æ–‡ä»¶å¤¹ä¸­çš„`index.md`ï¼Œè¿™æ ·ä½ è®¿é—®çš„`newpage`å¯¹åº”çš„é“¾æ¥å°±æ˜¯http://xxx.xxx/newpage

**1.2.4.3 draft**

`draft`æ˜¯è‰ç¨¿çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯ä½ å¦‚æœæƒ³å†™æ–‡ç« ï¼Œåˆä¸å¸Œæœ›è¢«çœ‹åˆ°ï¼Œé‚£ä¹ˆå¯ä»¥



```bash
hexo new draft newdraft
```

è¿™æ ·ä¼šåœ¨`source/_draft`ä¸­æ–°å»ºä¸€ä¸ª`newdraft.md`æ–‡ä»¶ï¼Œå¦‚æœä½ çš„è‰ç¨¿æ–‡ä»¶å†™çš„è¿‡ç¨‹ä¸­ï¼Œæƒ³è¦é¢„è§ˆä¸€ä¸‹ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨

```bash
hexo server --draft
```



åœ¨æœ¬åœ°ç«¯å£ä¸­å¼€å¯æœåŠ¡é¢„è§ˆã€‚

å¦‚æœä½ çš„è‰ç¨¿æ–‡ä»¶å†™å®Œäº†ï¼Œæƒ³è¦å‘è¡¨åˆ°`post`ä¸­ï¼Œ

```bash
hexo publish draft newdraft
```



å°±ä¼šè‡ªåŠ¨æŠŠ`newdraft.md`å‘é€åˆ°`post`ä¸­ã€‚

### 2. æ›´æ¢ä¸»é¢˜

------

æˆ‘ä»¬åœ¨äº†è§£`Hexo`åšå®¢æ–‡ä»¶åŸºç¡€ä¹‹åï¼ŒçŸ¥é“ä¸»é¢˜æ–‡ä»¶å°±æ”¾åœ¨`themes`æ–‡ä»¶ä¸‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å»Hexoå®˜ç½‘ä¸‹è½½å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¤åˆ¶è¿›å»ç„¶åä¿®æ”¹å‚æ•°å³å¯ã€‚
ç½‘ä¸Šå¤§å¤šæ•°ä¸»é¢˜éƒ½æ˜¯githubæ’åç¬¬ä¸€çš„`Next`ä¸»é¢˜ï¼Œä½†æ˜¯æˆ‘ä¸ªäººä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œæˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªä¸»é¢˜æ„Ÿè§‰è¿˜ä¸é”™ï¼š[hexo-theme-matery](https://github.com/blinkfox/hexo-theme-matery)ï¼Œåœ°å€åœ¨[ä¼ é€é—¨](https://github.com/blinkfox/hexo-theme-matery)ã€‚è¿™ä¸ªä¸»é¢˜çœ‹ç€æ¯”è¾ƒæ¼‚äº®ï¼Œå¹¶ä¸”å“åº”å¼æ¯”è¾ƒå‹å¥½ï¼Œç‚¹èµ·æ¥å¾ˆèˆ’æœï¼ŒåŠŸèƒ½ä¹Ÿæ¯”è¾ƒå¾ˆå¤šã€‚

> å½“ç„¶ï¼Œäººå„æœ‰å¼‚ï¼Œè¿™ä¸ªä¸»é¢˜é£æ ¼ä¹Ÿä¸ä¸€å®šæ˜¯ä½ å–œæ¬¢ï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥è·Ÿç€è¿™æ•™ç¨‹ç±»ä¼¼çš„æ–¹æ³•æ›¿æ¢æˆä½ å–œæ¬¢çš„å°±è¡Œäº†ã€‚

> ç‰¹æ€§ï¼š

- ç®€å•æ¼‚äº®ï¼Œæ–‡ç« å†…å®¹ç¾è§‚æ˜“è¯»
- [butterfly](https://butterfly.js.org/) è®¾è®¡
- å“åº”å¼è®¾è®¡ï¼Œåšå®¢åœ¨æ¡Œé¢ç«¯ã€å¹³æ¿ã€æ‰‹æœºç­‰è®¾å¤‡ä¸Šå‡èƒ½å¾ˆå¥½çš„å±•ç°
- é¦–é¡µè½®æ’­æ–‡ç« åŠæ¯å¤©åŠ¨æ€åˆ‡æ¢ `Banner` å›¾ç‰‡
- ç€‘å¸ƒæµå¼çš„åšå®¢æ–‡ç« åˆ—è¡¨ï¼ˆæ–‡ç« æ— ç‰¹è‰²å›¾ç‰‡æ—¶ä¼šæœ‰ `24` å¼ æ¼‚äº®çš„å›¾ç‰‡ä»£æ›¿ï¼‰
- æ—¶é—´è½´å¼çš„å½’æ¡£é¡µ
- **è¯äº‘**çš„æ ‡ç­¾é¡µå’Œ**é›·è¾¾å›¾**çš„åˆ†ç±»é¡µ
- ä¸°å¯Œçš„å…³äºæˆ‘é¡µé¢ï¼ˆåŒ…æ‹¬å…³äºæˆ‘ã€æ–‡ç« ç»Ÿè®¡å›¾ã€æˆ‘çš„é¡¹ç›®ã€æˆ‘çš„æŠ€èƒ½ã€ç›¸å†Œç­‰ï¼‰
- å¯è‡ªå®šä¹‰çš„æ•°æ®çš„å‹æƒ…é“¾æ¥é¡µé¢
- æ”¯æŒæ–‡ç« ç½®é¡¶å’Œæ–‡ç« æ‰“èµ
- æ”¯æŒ `MathJax`
- `TOC` ç›®å½•
- å¯è®¾ç½®å¤åˆ¶æ–‡ç« å†…å®¹æ—¶è¿½åŠ ç‰ˆæƒä¿¡æ¯
- å¯è®¾ç½®é˜…è¯»æ–‡ç« æ—¶åšå¯†ç éªŒè¯
- [Gitalk](https://gitalk.github.io/)ã€[Gitment](https://imsun.github.io/gitment/)ã€[Valine](https://valine.js.org/) å’Œ [Disqus](https://disqus.com/) è¯„è®ºæ¨¡å—ï¼ˆæ¨èä½¿ç”¨ `Gitalk`ï¼‰
- é›†æˆäº†[ä¸è’œå­ç»Ÿè®¡](http://busuanzi.ibruce.info/)ã€è°·æ­Œåˆ†æï¼ˆ`Google Analytics`ï¼‰å’Œæ–‡ç« å­—æ•°ç»Ÿè®¡ç­‰åŠŸèƒ½
- æ”¯æŒåœ¨é¦–é¡µçš„éŸ³ä¹æ’­æ”¾å’Œè§†é¢‘æ’­æ”¾åŠŸèƒ½

ä»–çš„ä»‹ç»æ–‡æ¡£å†™å¾—éå¸¸çš„è¯¦ç»†ï¼Œè¿˜æœ‰ä¸­è‹±æ–‡ä¸¤ä¸ªç‰ˆæœ¬ã€‚æ•ˆæœå›¾å¦‚ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/36aa38e745174bd1886d0092eebefd28.png)




é¦–å…ˆå…ˆæŒ‰ç…§æ–‡æ¡£æ•™ç¨‹å®‰è£…ä¸€éä¸»é¢˜ï¼Œç„¶åæ˜¯å¯ä»¥æ­£å¸¸æ‰“å¼€çš„ï¼Œå¦‚æœä½ æ˜¯ä¸€èˆ¬ä½¿ç”¨çš„è¯ï¼ŒåŸºæœ¬æ²¡å•¥é—®é¢˜äº†ã€‚ä¸è¿‡æœ‰äº›åœ°æ–¹æœ‰äº›åœ°æ–¹å¯ä»¥æ ¹æ®ä½ è‡ªå·±çš„ä¹ æƒ¯å’Œå–œå¥½ä¿®æ”¹ä¸€ä¸‹ï¼Œ ä¸‹é¢è®°å½•ä¸€ä¸‹æˆ‘è¿™ä¸ªåšå®¢ä¿®æ”¹äº†çš„ä¸€äº›åœ°æ–¹ã€‚

#### 2.1 æ–°å»ºæ–‡ç« æ¨¡æ¿ä¿®æ”¹

------

é¦–å…ˆä¸ºäº†æ–°å»ºæ–‡ç« æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹æ–‡ç« æ¨¡æ¿ï¼Œå»ºè®®å°†`/scaffolds/post.md`ä¿®æ”¹ä¸ºå¦‚ä¸‹ä»£ç ï¼š



```json
---
title: {{ title }}
date: {{ date }}
author: 
img: 
coverImg: 
top: false
cover: false
toc: true
mathjax: false
password:
summary:
tags:
categories:
---
```



è¿™æ ·æ–°å»ºæ–‡ç« å ä¸€äº›`Front-matter`å‚æ•°ä¸ç”¨ä½ è‡ªå·±è¡¥å……äº†ï¼Œä¿®æ”¹å¯¹åº”ä¿¡æ¯å°±å¯ä»¥äº†ã€‚

#### 2.2 æ·»åŠ 404é¡µé¢

------

åŸæ¥çš„ä¸»é¢˜æ²¡æœ‰`404`é¡µé¢ï¼Œæˆ‘ä»¬åŠ ä¸€ä¸ªã€‚é¦–å…ˆåœ¨`/source/`ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª`404.md`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š



```json
title: 404
date: 2019-08-5 16:41:10
type: "404"
layout: "404"
description: "Oopsï½ï¼Œæˆ‘å´©æºƒäº†ï¼æ‰¾ä¸åˆ°ä½ æƒ³è¦çš„é¡µé¢ :("
```



ç„¶ååœ¨`/themes/butterfly/layout/`ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª`404.ejs`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š



```html
<style type="text/css">
    /* don't remove. */
    .about-cover {
        height: 75vh;
    }
</style>

<div class="bg-cover pd-header about-cover">
    <div class="container">
        <div class="row">
            <div class="col s10 offset-s1 m8 offset-m2 l8 offset-l2">
                <div class="brand">
                    <div class="title center-align">
                        404
                    </div>
                    <div class="description center-align">
                        <%= page.description %>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // æ¯å¤©åˆ‡æ¢ banner å›¾.  Switch banner image every day.
    $('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');
</script>
```



#### 2.3â€œå…³äºâ€é¡µé¢å¢åŠ ç®€å†ï¼ˆå¯é€‰ï¼‰

------

ä¿®æ”¹`/themes/matery/butterfly/about.ejs`ï¼Œæ‰¾åˆ°`<div class="card">`æ ‡ç­¾ï¼Œç„¶åæ‰¾åˆ°å®ƒå¯¹åº”çš„`</div>`æ ‡ç­¾ï¼Œæ¥åœ¨åé¢æ–°å¢ä¸€ä¸ª`card`ï¼Œè¯­å¥å¦‚ä¸‹ï¼š



```html
<div class="card">
    <div class="card-content">
        <div class="card-content article-card-content">
                <div class="title center-align" data-aos="zoom-in-up">
                    <i class="fa fa-address-book"></i>&nbsp;&nbsp;<%- __('myCV') %>
                </div>
                <div id="articleContent" data-aos="fade-up">
                    <%- page.content %>
                </div>
        </div>
    </div>
</div>
```

Html

è¿™æ ·å°±ä¼šå¤šå‡ºä¸€å¼ `card`ï¼Œç„¶åå¯ä»¥åœ¨`/source/about/index.md`ä¸‹é¢å†™ä¸Šä½ çš„ç®€å†äº†ï¼Œå½“ç„¶è¿™é‡Œçš„ä½ç½®éšä½ è‡ªå·±è®¾ç½®ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠç®€å†ä½œä¸ºç¬¬ä¸€ä¸ª`card`ã€‚

#### 2.4 æ•°å­¦å…¬å¼æ¸²æŸ“å’Œä»£ç é«˜äº®

------

**2.4.1 è§£å†³mathjaxä¸ä»£ç é«˜äº®çš„å†²çª**

å¦‚æœä½ æŒ‰ç…§æ•™ç¨‹å®‰è£…äº†ä»£ç é«˜äº®æ’ä»¶`hexo-prism-plugin`ï¼Œå•ç‹¬ä½¿ç”¨æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†å¦‚æœä½ åˆä½¿ç”¨äº†`mathjax`ï¼Œå¹¶ä¸”æŒ‰ç…§ç½‘ä¸Šæ•™ç¨‹ï¼Œå®‰è£…`kramed`æ’ä»¶å¹¶ä¿®æ”¹äº†`js`æ–‡ä»¶é‡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆä¸ºäº†è§£å†³`markdown`å’Œ`mathjax`çš„è¯­æ³•å†²çªï¼‰ï¼Œé‚£ä½ çš„ä»£ç å°±æ— æ³•é«˜äº®äº†ã€‚è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œåˆ«ç”¨`kramed`æ’ä»¶äº†ï¼Œè¿˜ç”¨åŸæ¥è‡ªå¸¦çš„`marked`æ’ä»¶ï¼Œç›´æ¥æ”¹å®ƒçš„æ­£åˆ™è¡¨è¾¾å¼å°±è¡Œäº†ã€‚

**2.4.2 åŠ æ•°å­¦å…¬å¼æ˜¾ç¤º**

æ‰“å¼€`/themes/matery/layout`ä¸­çš„`post.ejs`æ–‡ä»¶ï¼Œåœ¨æœ€ä¸‹æ–¹ç²˜è´´å¦‚ä¸‹ä»£ç ï¼š



```javascript
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>
```

Javascript

ç”±äº`markdown`è¯­æ³•ä¸`mathjax`è¯­æ³•å­˜åœ¨å†²çªï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¿®æ”¹æºæ–‡ä»¶ã€‚

æ‰“å¼€`/node_modules/marked/lib`ä¸­çš„`marked.js`æ–‡ä»¶ï¼Œç¬¬539è¡Œçš„`escape:`å¤„æ›¿æ¢æˆï¼š



```js
escape: /^$[`*\[\]()#$+\-.!_>])/
```



ç¬¬553è¡Œçš„`em:`å¤„æ›¿æ¢æˆï¼š



```js
em: /^\*((?:\*\*|[\s\S])+?)\*(?!\*)/
```



è¿™æ—¶åœ¨æ–‡ç« é‡Œå†™æ•°å­¦å…¬å¼åŸºæœ¬æ²¡æœ‰é—®é¢˜äº†ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼š
**æ•°å­¦å…¬å¼ä¸­å¦‚æœå‡ºç°äº†è¿ç»­ä¸¤ä¸ª{ï¼Œä¸­é—´ä¸€å®šè¦åŠ ç©ºæ ¼ï¼**

ä¸¾ä¸ªä¾‹å­:
è¡Œå†…å…¬å¼ï¼š*[Math Processing Error]y=f(x)*
ä»£ç ï¼š

```tex
$y = f(x)$
```

è¡Œé—´å…¬å¼ï¼š
*[Math Processing Error]y=fg1(x)*
ä»£ç ï¼š



```tex
\\[y = {f_{ {g_1}}}(x)\\]
```



> æ³¨æ„ä¸Šé¢èŠ±æ‹¬å·ä¹‹é—´æœ‰ç©ºæ ¼ï¼

#### 2.5 å¢åŠ å»ºç«™æ—¶é—´

------

**æ•ˆæœå›¾** :

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/074a34bcd50547b7998066c2fd671ac4.png)




- ç¼–è¾‘ `themes\Butterfly\layout\includes\footer.pug` æ–‡ä»¶ï¼Œæ’å…¥ä»¥ä¸‹ä»£ç ï¼š

  æ³¨æ„ä¸ `if` åŒçº§

  

```js
#running-time
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶

  åœ¨ `inject->bottom` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š



```html
- <script>setInterval(()=>{let create_time=Math.round(new Date("2020-3-21-20:14:00").getTime()/1000);let timestamp=Math.round((new Date().getTime()+8*60*60*1000)/1000);let second=timestamp-create_time;let time=new Array(0,0,0,0,0);if(second>=365*24*3600){time[0]=parseInt(second/(365*24*3600));second%=365*24*3600}if(second>=24*3600){time[1]=parseInt(second/(24*3600));second%=24*3600}if(second>=3600){time[2]=parseInt(second/3600);second%=3600}if(second>=60){time[3]=parseInt(second/60);second%=60}if(second>0){time[4]=second}currentTimeHtml='å°ç ´ç«™å·²ç»å®‰å…¨è¿è¡Œ '+time[0]+' å¹´ '+time[1]+' å¤© '+time[2]+' æ—¶ '+time[3]+' åˆ† '+time[4]+' ç§’';var elementById=document.getElementById('running-time');if(elementById){elementById.innerHTML=currentTimeHtml}},1000);</script>
```



#### 2.6 ä¿®æ”¹ä¸è’œå­åˆå§‹åŒ–è®¡æ•°

------

å› ä¸ºä¸è’œå­è‡³ä»Šæœªå¼€æ”¾æ³¨å†Œï¼Œæ‰€ä»¥æ²¡åŠæ³•åœ¨å®˜ç½‘ä¿®æ”¹åˆå§‹åŒ–ï¼Œåªèƒ½è‡ªå·±åŠ¨æ‰‹äº†ã€‚å’Œä¸Šä¸€æ¡ä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨`/themes/butterfly/layout/_partial`é‡Œçš„`footer.ejs`æ–‡ä»¶æœ€ååŠ ä¸Šï¼š



```js
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);  // 50mså‘¨æœŸæ£€æµ‹å‡½æ•°
        var pvcountOffset = 80000;  // åˆå§‹åŒ–é¦–æ¬¡æ•°æ®
        var uvcountOffset = 20000;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // åŠ ä¸Šåˆå§‹æ•°æ® 
                clearInterval(int); // åœæ­¢æ£€æµ‹
            }
        }
    });
</script>
```



ç„¶åæŠŠä¸Šé¢å‡ è¡Œæœ‰æ®µä»£ç ï¼š



```html
<% if (theme.busuanziStatistics && theme.busuanziStatistics.totalTraffic) { %>
    <span id="busuanzi_container_site_pv">
        <i class="fa fa-heart-o"></i>
        æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv" class="white-color"></span>
    </span>
<% } %>
<% if (theme.busuanziStatistics && theme.busuanziStatistics.totalNumberOfvisitors) { %>
    <span id="busuanzi_container_site_uv">
        äººæ¬¡,&nbsp;è®¿å®¢æ•° <span id="busuanzi_value_site_uv" class="white-color"></span> äºº.
    </span>
<% } %>
```

Html

ä¿®æ”¹ä¸ºï¼š



```html
<% if (theme.busuanziStatistics && theme.busuanziStatistics.totalTraffic) { %>
    <span id="busuanzi_container_site_pv" style='display:none'>
        <i class="fa fa-heart-o"></i>
        æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv" class="white-color"></span>
    </span>
<% } %>
<% if (theme.busuanziStatistics && theme.busuanziStatistics.totalNumberOfvisitors) { %>
    <span id="busuanzi_container_site_uv" style='display:none'>
        äººæ¬¡,&nbsp;è®¿å®¢æ•° <span id="busuanzi_value_site_uv" class="white-color"></span> äºº.
    </span>
<% } %>
```



å…¶å®å°±æ˜¯å¢åŠ äº†ä¸¤ä¸ª`style='display:none'`è€Œå·²ã€‚

#### 2.7 æ·»åŠ é¦–é¡µç£è´´

**æ•ˆæœå›¾** ï¼š

![image-20220508160413471](https://img-blog.csdnimg.cn/img_convert/66abec35da4c08f306e2eab7e37c8c43.png)

------

å…¶å®äºŒæ­¥å°±è¡Œäº†ï¼Œä¸ç”¨åƒç½‘ä¸Šæœ‰äº›æ•™ç¨‹é‚£ä¹ˆå¤æ‚ã€‚

**ç¬¬ä¸€æ­¥ï¼š**å®‰è£…æ’ä»¶,åœ¨åšå®¢æ ¹ç›®å½•`[Blogroot]`ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š



```bash
npm install hexo-butterfly-categories-card --save
```



**ç¬¬äºŒæ­¥ï¼š** æ·»åŠ é…ç½®ä¿¡æ¯ï¼Œä»¥ä¸‹ä¸ºå†™æ³•ç¤ºä¾‹
åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶`_config.yml`æˆ–è€…ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml`ä¸­æ·»åŠ 



```bash
# hexo-butterfly-categories-card
# see https://akilar.top/posts/a9131002/
categoryBar:
  enable: true # å¼€å…³
  priority: 5 #è¿‡æ»¤å™¨ä¼˜å…ˆæƒ
  enable_page: / # åº”ç”¨é¡µé¢
  layout: # æŒ‚è½½å®¹å™¨ç±»å‹
    type: id
    name: recent-posts
    index: 0
  column: odd # oddï¼š3åˆ— | evenï¼š4åˆ—
  row: 1 #æ˜¾ç¤ºè¡Œæ•°ï¼Œé»˜è®¤ä¸¤è¡Œï¼Œè¶…è¿‡è¡Œæ•°åˆ‡æ¢ä¸ºæ»šåŠ¨æ˜¾ç¤º
  message:
    - descr: UbuntuæŒ‡å—
      cover: https://npm.elemecdn.com/akilar-candyassets/image/cover1.webp
    - descr: ç©è½¬Win10
      cover: https://npm.elemecdn.com/akilar-candyassets/image/cover2.webp
    - descr: é•¿ç¯‡å°è¯´è¿è½½
      cover: https://npm.elemecdn.com/akilar-candyassets/image/cover3.webp
    - descr: ä¸ªäººæ—¥è®°
      cover: https://npm.elemecdn.com/akilar-candyassets/image/cover4.webp
    - descr: è¯—è¯æ­Œèµ‹
      cover: https://npm.elemecdn.com/akilar-candyassets/image/cover5.webp
    - descr: æ‚è°ˆæ•™ç¨‹
      cover: https://npm.elemecdn.com/akilar-candyassets/image/cover6.webp
  custom_css: https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css
```

**ç¬¬ä¸‰æ­¥ï¼šå‚æ•°é‡Šä¹‰**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/84c6b5b6cf7a4da181d5b0cec0bf82f7.png)




ç„¶å`hexo g`å†`hexo s`å°±èƒ½é¢„è§ˆå‡ºæ•ˆæœäº†ã€‚



#### 2.8 æ·»åŠ è¯„è®ºæ’ä»¶

------

ç”±äºè¿™ä¸ªä¸»é¢˜è‡ªå¸¦äº†`gittalk`ã€`gitment`ã€`valine`ç­‰è¯„è®ºæ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¯¹åº”æ’ä»¶å‚æ•°å°±è¡Œäº†ï¼Œè¿™ä¸ªåšå®¢ç”¨çš„æ˜¯`valine`ï¼Œå¦‚ä¸‹ï¼š

> å¾3.0.0é–‹å§‹ï¼Œé–‹å•Ÿè©•è«–éœ€è¦åœ¨comments-useä¸­å¡«å¯«ä½ éœ€è¦çš„è©•è«–ã€‚
>
> æ”¯æŒé›™è©•è«–é¡¯ç¤ºï¼Œåªéœ€è¦é…ç½®å…©å€‹è©•è«–ï¼ˆç¬¬ä¸€å€‹ç‚ºé»˜èªé¡¯ç¤ºï¼‰

```yml
comments:
  # Up to two comments system, the first will be shown as default
  # Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo
  use: Valine,Disqus
  text: true # Display the comment name next to the button
  # lazyload: The comment system will be load when comment element enters the browser's viewport.
  # If you set it to true, the comment count will be invalid
  lazyload: true
  count: true # Display comment count in top_img
  card_post_count: false # Display comment count in Home Page
```

![image-20220508162835667](https://img-blog.csdnimg.cn/img_convert/82e03c61049ff68e2cc84858ccb75592.png)

> å•è¯„è®º

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/53f27e71f6b541d1949ce05a0dca0f4f.png)


> åŒè¯„è®º

![image-20220508162953239](https://img-blog.csdnimg.cn/img_convert/f2ead35330fff1fd313c867428a0ec78.png)

> æ˜¾ç¤ºtest

![image-20220508163007667](https://img-blog.csdnimg.cn/img_convert/9e8bdc097068fb0d4a84ca6c06658db3.png)

> ä¸æ˜¾ç¤ºtest
> ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/227d75566cf847dc8987a694abbf598f.png)




å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–è¯„è®ºæ’ä»¶ï¼Œåªéœ€è¦é…ç½®å¯¹åº”é¡¹å°±æ˜¯äº†ï¼Œä¸æ˜¯è‡ªå¸¦çš„å¯ä»¥ç…§ç€ç½‘ä¸Šçš„æ•™ç¨‹è‡ªå·±å¼„ä¸€ä¸ªï¼Œç±»ä¼¼çš„æ–‡ç« æœ‰å¾ˆå¤šï¼Œå¯ä»¥æœç´¢å…³é”®å­—å°±è¡Œäº†ã€‚

#### 2.9 æ·»åŠ åœ¨çº¿èŠå¤©åŠŸèƒ½

------

ä»3.0å¼€å§‹ï¼ŒButterflyä¸»é¢˜å†…ç½®äº†å¤šç§åœ¨ç¶«èŠå¤©å·¥å…·ã€‚ä½ å¯ä»¥é€‰æ‹©å¼€å¯ä¸€ç§ï¼Œæ–¹ä¾¿ä½ ä¸è®¿å®¢çš„äº¤æµã€‚

{% tabs test1 %}
<!-- é€šç”¨è®¾ç½® -->
è¿™äº›å·¥å…·éƒ½æä¾›äº†ä¸€ä¸ªæŒ‰é’®å¯ä»¥æ‰“å¼€/å…³é—­èŠå¤©çª—å£ã€‚
ä¸»é¢˜ä¹Ÿæä¾›äº†ä¸€ä¸ªé›†åˆä¸»é¢˜ç‰¹è‰²çš„æŒ‰é’®æ¥æ›¿æ¢è¿™äº›å·¥å…·æœ¬èº«çš„æŒ‰é’®ï¼Œè¿™ä¸ªèŠå¤©æŒ‰é’®å°†ä¼šå‡ºç°åœ¨å³ä¸‹è§’é‡Œã€‚
ä½ åªéœ€è¦æŠŠchat_btnæ‰“å¼€å°±è¡Œã€‚

ä¿®æ”¹ ä¸»é¢˜é…ç½®æ–‡ä»¶
<!-- chatra -->

é…ç½®chatra,éœ€è¦çŸ¥é“Public key

æ‰“å¼€chatraå¹¶è¨»å†Œè´¦å·ã€‚
ä½ å¯ä»¥åœ¨Preferencesä¸­æ‰¾åˆ°Public key

![image-20220508163820901](https://img-blog.csdnimg.cn/img_convert/931ca24cf8a1020be5aea8e5f24e1c1d.png)

ä¿®æ”¹ **ä¸»é¢˜é…ç½®æ–‡ä»¶**

```yml
# chatra
# https://chatra.io/
chatra:
  enable: true
  id: xxxxxxxx
```

**chatra**çš„æ ·å¼ä½ å¯ä»¥**Chat Widget**è‡ªè¡Œé…ç½®

![image-20220508163917915](https://img-blog.csdnimg.cn/img_convert/ab6967f806c0f1ca1587c04868dd5e56.png)

> Demo

![image-20220508163938302](https://img-blog.csdnimg.cn/img_convert/dfc77f4d231f2536711a24383f70d9ac.png)

<!-- tidio -->
é…ç½®tidio,éœ€è¦çŸ¥é“`Public key`

æ‰“å¼€tidioå¹¶è¨»å†Œè´¦å·ã€‚
ä½ å¯ä»¥åœ¨`Preferences` > `Developer`ä¸­æ‰¾åˆ°`Public key`



![image-20220508164104345](https://img-blog.csdnimg.cn/img_convert/53b2ab6845c91803166bb9bd6633e8e3.png)

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yml
# tidio
# https://www.tidio.com/
tidio:
  enable: true
  public_key: XXXX
```



`tidio`çš„æ ·å¼ä½ å¯ä»¥`Channels`è‡ªè¡Œé…ç½®

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d6b9e20274ec422387b4de1aa6cf3c65.png)


> Demo

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/666425b2f9a34de08affe364547d6291.png)


<!-- endtab -->

<!-- daovoice -->

æ‰“å¼€[daovoice](https://www.daocloud.io/)å’Œè¨»å†Œå¸å·
æ‰¾åˆ°ä½ çš„`app id`

![image-20220508164502107](https://img-blog.csdnimg.cn/img_convert/994ecc489437fbcdf8c2948b296eb3ee.png)

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d79436c73b534bc08051dcec103bf4dc.png)


> Demo

![image-20220508164542546](https://img-blog.csdnimg.cn/img_convert/3919199eee23349a27f24a04db4bbfbb.png)

<!-- endtab -->
{% endtabs %}

#### 2.10 æ·»åŠ çœ‹æ¿å¨˜

 **å†™åœ¨æœ€å‰**

æœ€æ—©çš„æ—¶å€™çœ‹åˆ«äººçš„åšå®¢å¾ˆå¤šéƒ½æœ‰ä¸€ä¸ªå¯çˆ±çš„çœ‹æ¿å¨˜ï¼Œç„¶åå°±æ‰¾äº†æ•™ç¨‹ç»™è‡ªå·±ä¹Ÿæ•´äº†ä¸€ä¸ªã€‚å› ä¸ºæ‰¾åˆ°çš„æ•™ç¨‹éƒ½

æ˜¯ç¨‚è ä¸é½çš„ï¼ŒåŸä½œè€…è‡ªå·±è¯´çš„ä¹Ÿç•¥æ˜¾å«ç³Šï¼ˆå…¶å®æ˜¯æˆ‘è‡ªå·±çœ‹ä¸æ‡‚ï¼‰ã€‚æ€»ä¹‹ç§‰æ‰¿ç€ä¸€å¦‚æ—¢å¾€çš„å°ç™½é£æ ¼ã€‚æŠŠç½‘

ä¸Šçš„æ•™ç¨‹åšä¸ªæ•´åˆã€‚

**æ•ˆæœå›¾ï¼š**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/06e8bdf0a5a34c2ca08a0ef683e43411.png)




1. ä»¥`Butterfly`ä¸»é¢˜ä¸ºä¾‹ï¼Œåœ¨`[Blogroot]\themes\butterfly\source\`ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯,è¾“å…¥

```bash
git clone https://github.com/stevenjoezhang/live2d-widget.git live2d-widget
```

> è¿™è¡ŒæŒ‡ä»¤çš„æ„æ€å°±æ˜¯`clone`è¿™ä¸ªé¡¹ç›®åˆ°`source`è·¯å¾„ä¸‹å¹¶é‡å‘½åä¸º`live2d-widget`ã€‚~~emmï¼Œè²Œä¼¼æœ¬æ¥å°±å«live2d-widgetã€‚åæ­£ç®—æ˜¯ä¸€ä¸ªè¸©å‘ç‚¹ã€‚~~å¦‚æœæ˜¯ç”¨ä¸‹è½½é¡¹ç›®å‹ç¼©åŒ…ï¼Œè§£å‹åæ”¾åˆ°è¿™é‡Œçš„ï¼Œä¹Ÿè®°å¾—æŠŠæ–‡ä»¶å¤¹`æ›´åä¸ºlive2d-widge`tã€‚

2. æ‰¾åˆ°è·¯å¾„`[Blogroot]\themes\butterfly\source\live2d-widget\autoload.js`ï¼Œæ‰“å¼€`autoload.js`ï¼Œä¿®æ”¹å†…å®¹ï¼š

```diff
- const live2d_path = "https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/";
+ const live2d_path = "/live2d-widget/";
```

> æ­¤å¤„å¼•ç”¨ä¸€ä¸‹å‚è€ƒæ•™ç¨‹åŸè¯ï¼š`autoload.js`ä¸­çš„æ³¨é‡Šçš„ç»å¯¹åœ°å€æŒ‡çš„æ˜¯ï¼Œå°†èµ„æºæ‰“åŒ…æ”¾åˆ°`[Blogroot]/theme/next/source`ä¸­åï¼Œä»¥`[Blogroot]/theme/next/source`ä¸ºæ ¹ç›®å½•ï¼ˆ/ï¼‰çš„ç»å¯¹è·¯å¾„ã€‚

3. åœ¨`Butterfly`çš„ä¸»é¢˜é…ç½®æ–‡ä»¶`[Blogroot]\_config.butterfly.yml`ä¸­,
   `butterfly`ä¸»é¢˜å…¶å®è‡ªå¸¦`fontawesome`ä¾èµ–ï¼Œæ— éœ€å¼•å…¥

```diff
    # Inject
    # Insert the code to head (before '</head>' tag) and the bottom (before '</body>' tag)
    # æ’å…¥ä»£ç åˆ°å¤´éƒ¨ </head> ä¹‹å‰ å’Œ åº•éƒ¨ </body> ä¹‹å‰
    inject:
      head:
        # - <link rel="stylesheet" href="/xxx.css">
      bottom:
        # - <script src="xxxx"></script>
+       - <script defer src="/live2d-widget/autoload.js"></script>
```

4. ä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹ï¼Œç„¶åç…§ä¾‹æ‰§è¡Œ

```bash
hexo clean
hexo g
hexo s
```

5. è‡ªå®šä¹‰ä¿®æ”¹
   æœ‰ä¸€å®šå‰ç«¯åŸºç¡€çš„å°ä¼™ä¼´å¯ä»¥é€šè¿‡ä¿®æ”¹`[Blogroot]\themes\butterfly\source\live2d-widget`è·¯å¾„ä¸‹çš„æ ·å¼èµ„æºæ–‡ä»¶ï¼š
   - `waifu-tips.js`:åŒ…å«äº†æŒ‰é’®å’Œå¯¹è¯æ¡†çš„é€»è¾‘
   - `waifu-tips.json` :å®šä¹‰äº†è§¦å‘æ¡ä»¶ï¼ˆselectorï¼ŒCSS é€‰æ‹©å™¨ï¼‰å’Œè§¦å‘æ—¶æ˜¾ç¤ºçš„æ–‡å­—ï¼ˆtextï¼‰ï¼›
   - `waifu.css`:çœ‹æ¿å¨˜çš„æ ·å¼è¡¨ã€‚å¯ä»¥å¯¹çœ‹æ¿å¨˜çš„ä½ç½®å¸ƒå±€ç­‰åšè‡ªå®šä¹‰ä¿®æ”¹ã€‚

#### 2.11 å¢åŠ emojiæ”¯æŒ

------

ä¸ºåšå®¢æ–°å¢å¯¹`emoji`è¡¨æƒ…çš„æ”¯æŒï¼Œä½¿ç”¨åˆ°äº† [hexo-filter-github-emojis](https://npm.taobao.org/package/hexo-filter-github-emojis) çš„ Hexo æ’ä»¶æ¥æ”¯æŒ `emoji`è¡¨æƒ…çš„ç”Ÿæˆï¼ŒæŠŠå¯¹åº”çš„`markdown emoji`è¯­æ³•ï¼ˆ`::`,ä¾‹å¦‚ï¼š:smile: `:smile:`ï¼‰è½¬å˜æˆä¼šè·³è·ƒçš„`emoji`è¡¨æƒ…ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š



```bash
npm install hexo-filter-github-emojis --save
```

Bash

åœ¨ Hexo æ ¹ç›®å½•ä¸‹çš„ `_config.yml` æ–‡ä»¶ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š



```yaml
githubEmojis:
  enable: true
  className: github-emoji
  inject: true
  styles:
  customEmojis:
```



æ‰§è¡Œ `hexo clean && hexo g` é‡æ–°ç”Ÿæˆåšå®¢æ–‡ä»¶ï¼Œç„¶åå°±å¯ä»¥åœ¨æ–‡ç« ä¸­å¯¹åº”ä½ç½®çœ‹åˆ°ä½ ç”¨`emoji`è¯­æ³•å†™çš„è¡¨æƒ…äº†ã€‚
å¦‚ä¸‹å›¾ï¼š

![image-20220508161623514](https://img-blog.csdnimg.cn/img_convert/c4f822b457be4f0d88d701b2a9c9c392.png)

**emojiæ”¯æŒ**



#### 2.12 é¦–é¡µç½®é¡¶è½®æ’­å›¾

------

æœ¬é¡¹ç›®æ˜¯å¯¹å†°å¡è¯ºè€å¸ˆå†™çš„[æ•™ç¨‹ï¼šåŸºäºButterflyä¸»é¢˜çš„è½®æ’­æ‰‹åŠ¨ç½®é¡¶æ–‡ç« ](https://zfe.space/post/11009.html)è¿›è¡Œé‡æ„ï¼Œç²¾ç®€äº†éƒ¨åˆ†æ ·å¼ã€‚é€‚é…pjaxã€‚

**æ•ˆæœå›¾ï¼š**

![image-20220508162003869](https://img-blog.csdnimg.cn/img_convert/c1ddd6f89d48cf874d70d10d27c23e84.png)



1. å®‰è£…æ’ä»¶,åœ¨åšå®¢æ ¹ç›®å½•`[Blogroot]`ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š

```bash
npm install hexo-butterfly-swiper --save
```

2. æ·»åŠ é…ç½®ä¿¡æ¯ï¼Œä»¥ä¸‹ä¸ºå†™æ³•ç¤ºä¾‹
   åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶`_config.yml`æˆ–è€…ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml`ä¸­æ·»åŠ 

```yml
# hexo-butterfly-swiper
# see https://akilar.top/posts/8e1264d1/
swiper:
  enable: true # å¼€å…³
  priority: 5 #è¿‡æ»¤å™¨ä¼˜å…ˆæƒ
  enable_page: all # åº”ç”¨é¡µé¢
  timemode: date #date/updated
  layout: # æŒ‚è½½å®¹å™¨ç±»å‹
    type: id
    name: recent-posts
    index: 0
  default_descr: å†æ€ä¹ˆçœ‹æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆæè¿°å®ƒçš„å•¦ï¼
  swiper_css: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css #swiper cssä¾èµ–
  swiper_js: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js #swiper jsä¾èµ–
  custom_css: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css # é€‚é…ä¸»é¢˜æ ·å¼è¡¥ä¸
  custom_js: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js # swiperåˆå§‹åŒ–æ–¹æ³•
```

 3. å‚æ•°é‡Šä¹‰

    ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/71a0b84ceb594ad4984a188a5f18cf0a.png)


**ä½¿ç”¨æ–¹æ³•**

åœ¨æ–‡ç« çš„`front_matter`ä¸­æ·»åŠ `swiper_index`é…ç½®é¡¹å³å¯ã€‚

```Markdown
---
title: æ–‡ç« æ ‡é¢˜
date: åˆ›å»ºæ—¥æœŸ
updated: æ›´æ–°æ—¥æœŸ
cover: æ–‡ç« å°é¢
description: æ–‡ç« æè¿°
swiper_index: 1 #ç½®é¡¶è½®æ’­å›¾é¡ºåºï¼Œéè´Ÿæ•´æ•°ï¼Œæ•°å­—è¶Šå¤§è¶Šé å‰
---
```



#### 2.13 æ·»åŠ åšå®¢åŠ¨æ€æ ‡ç­¾

------

åŸç†å°±æ˜¯ç»™åšå®¢å¢åŠ ä¸€ä¸ªäº‹ä»¶åˆ¤æ–­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://img-blog.csdnimg.cn/img_convert/e95bb658636f5be13d06bcd7cf81ac15.png)



- åœ¨ `themes\butterfly\source\js` æ–‡ä»¶å¤¹æ–°å»º `title.js` æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š




```js
// æµè§ˆå™¨æç¬‘æ ‡é¢˜
var OriginTitle = document.title;
var titleTime;
document.addEventListener('visibilitychange', function () {
    if (document.hidden) {
        document.querySelector('[rel="icon"]').setAttribute('href', "/img/funny.ico");
        document.title = '(ã£ Â°Ğ” Â°;)ã£ è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨äº†';
        clearTimeout(titleTime);
    }
    else {
        document.querySelector('[rel="icon"]').setAttribute('href', "/img/favicon.ico");
        document.title = '(â—\'â—¡\'â—)å™«åˆå¥½å•¦ ~' + OriginTitle;
        titleTime = setTimeout(function () {
            document.title = OriginTitle;
        }, 2000);
    }
});
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶

  	åœ¨ `inject->bottom` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
- <script src="/js/title.js"></script>
```



ç„¶å `hexo clean` && `hexo g` å³å¯ã€‚



#### 2.14 æ·»åŠ é¼ æ ‡ç‚¹å‡»çƒŸèŠ±çˆ†ç‚¸æ•ˆæœ

------

åœ¨ /themes/matery/source/js æ–°å»ºæ–‡ä»¶ fireworks.jsï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç 

[ Download Now](http://49.235.106.229/js/fireworks.js)

ç„¶ååœ¨ /themes/matery/layout/_partial/footer.ejs ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š



```js
<% if (theme.fireworks.enable) { %>
<canvas class="fireworks" style="position: fixed; left: 0; top: 0; z-index: 1; pointer-events: none;" ></canvas>
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
<script type="text/javascript" src="/js/fireworks.js"></script>
<% } %>
```



åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ .ymlä¸­é…ç½®:



```yml
# é¼ æ ‡ç‚¹å‡»çƒŸèŠ±çˆ†ç‚¸åŠ¨æ•ˆ
fireworks:
  enable: true
```



#### 2.15 æ·»åŠ é¡µé¢æ¨±èŠ±é£˜è½åŠ¨æ•ˆ

------

åœ¨ /themes/matery/source/js æ–°å»ºæ–‡ä»¶ sakura.jsï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç 

[ Download Now](http://49.235.106.229/js/sakura.js)

ç„¶ååœ¨ /themes/matery/layout/_partial/head.ejs ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š



```js
<% if (theme.sakura.enable) { %>
    <script type="text/javascript">
    //åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ
    var windowWidth = $(window).width();
    if (windowWidth > 768) {
        document.write('<script type="text/javascript" src="/js/sakura.js"></script>');
    }
    </script>
<% } %>
```



åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ .ymlä¸­é…ç½®:



```yml
# é¡µé¢æ¨±èŠ±é£˜è½åŠ¨æ•ˆ
sakura:
  enable: true
```

#### 2.16 æ·»åŠ é¼ æ ‡ç‚¹å‡»æ–‡å­—ç‰¹æ•ˆ

------

åœ¨ /themes/butterfly/source/js æ–°å»ºæ–‡ä»¶ wenzi.jsï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç 

[ Download Now](http://49.235.106.229/js/wenzi.js)

ç„¶ååœ¨ /themes/butterfly/layout/_partial/head.ejs ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š



```js
<% if (theme.wenzi.enable) { %>
    <script type="text/javascript">
    //åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ
    var windowWidth = $(window).width();
    if (windowWidth > 768) {
        document.write('<script type="text/javascript" src="/js/wenzi.js"></script>');
    }
    </script>
<% } %>
```

Js

åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ .ymlä¸­é…ç½®:



```yml
# é¡µé¢æ¨±èŠ±é£˜è½åŠ¨æ•ˆ
wenzi:
  enable: true
```



#### 2.17 æ·»åŠ é¡µé¢é›ªèŠ±é£˜è½åŠ¨æ•ˆ

------

åœ¨ /themes/butterfly/source/js æ–°å»ºæ–‡ä»¶ xuehuapiaoluo.jsï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç 

[ Download Now](http://49.235.106.229/js/xuehuapiaoluo.js)

ç„¶ååœ¨ /themes/matery/layout/_partial/head.ejs ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š



```js
<% if (theme.xuehuapiaoluo.enable) { %>
    <script type="text/javascript">
    //åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ
    var windowWidth = $(window).width();
    if (windowWidth > 768) {
        document.write('<script type="text/javascript" src="/js/xuehuapiaoluo.js"></script>');
    }
    </script>
<% } %>
```



åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ .ymlä¸­é…ç½®:



```yml
# é¡µé¢æ¨±èŠ±é£˜è½åŠ¨æ•ˆ
xuehuapiaoluo:
  enable: true
```



#### 2.18 æ·»åŠ åšå®¢å¤©æ°”æ’ä»¶

------

åœ¨æœå¯»æ’ä»¶çš„è¿‡ç¨‹ä¸­æ— æ„é—´ç”¨ google æœåˆ°çš„ä¸€ä¸ªç½‘ç«™ï¼Œä½¿ç”¨éå¸¸ç®€å•ï¼Œåœ¨è¿™é‡Œé™„ä¸Šæ’ä»¶æ·»åŠ çš„æ–¹æ³•

ä¸­å›½å¤©æ°”ç½‘ï¼šhttps://cj.weather.com.cn/plugin/pc

é€‰æ‹©è‡ªå®šä¹‰æ’ä»¶â€”>è‡ªå®šä¹‰æ ·å¼â€”â€”>ç”Ÿæˆä»£ç ï¼Œç„¶åä¼šç”Ÿæˆè¿™æ ·ä¸€æ®µä»£ç 



```html
<!-- Weather Widget --> 
<script type="text/javascript"> WIDGET = {FID: 'your FID'}</script> 
<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>
```



åœ¨ /themes/butterfly/source/layout/_widget æ–°å»ºæ–‡ä»¶ weather.ejsï¼ŒæŠŠä¸Šé¢ç”Ÿæˆçš„ä»£ç æ·»åŠ è¿›å…¥,å¯ä»¥è®¾ç½®åªæœ‰æ¡Œé¢ç«¯æ˜¾ç¤º,å¦‚ä¸‹ä¿®æ”¹:

```html
<!-- å¤©æ°”æ¥å£  çˆ±ç¬‘çš„Gao add 2022 05.08 -->
<script type="text/javascript">
  WIDGET = {FID: '1tFpFZ5Mtj'}
</script>
<!-- <script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script> -->

<script type="text/javascript">
  //åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ
  var windowWidth = $(window).width();
  if (windowWidth > 768) {
      document.write('<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"><\/script>');
  }
  </script>
```



ç„¶ååœ¨ /themes/butterfly/layout/_partial/layout.ejs ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š



```js
<!-- å¤©æ°”æ¥å£  çˆ±ç¬‘çš„Gao add 2022 05.08 -->
<% if (theme.weather.enable) { %>
  <%- partial('_widget/weather') %>
<% } %>
```



åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ .ymlä¸­é…ç½®:



```yml
# å¤©æ°”æ¥å£æ’ä»¶
weather:
  enable: true
```



å±•ç¤ºæ•ˆæœå¯ä»¥å‚è€ƒæˆ‘çš„[ä¸»é¡µ](https://manamn.space/)

**å½“ç„¶,å¦‚æœä½ ä¸æƒ³æè¿™ä¹ˆå¤æ‚,å¯ä»¥ç›´æ¥å°†ä¸‹é¢ä»£ç æ’å…¥ /themes/butterfly/layout/_partial/layout.ejs ä¸­å³å¯ä½¿ç”¨:**



```html
<script type="text/javascript">
    WIDGET = {FID: '1tFpFZ5Mtj'}
</script>
<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>
```



#### 2.19 ä¿®æ”¹æ»šåŠ¨æ¡



[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-2DQYJXS3-1652006790688)(https://cdn.jsdelivr.net/gh/gaoziman/bed/img/Snipaste_2022-05-08_16-26-02.png)]



- åœ¨ `themes\Butterfly\source\css` æ–‡ä»¶å¤¹æ–°å»º `scrollbar.css` æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

  é¢œè‰²å¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚ä¿®æ”¹

```css
/* æ»šåŠ¨æ¡ */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background-color: rgba(73, 177, 245, 0.2);
  border-radius: 2em;
}

::-webkit-scrollbar-thumb {
  background-color: #49b1f5 !important;
  background-image: -webkit-linear-gradient(
	45deg,
	rgba(255, 255, 255, 0.4) 25%,
	transparent 25%,
	transparent 50%,
	rgba(255, 255, 255, 0.4) 50%,
	rgba(255, 255, 255, 0.4) 75%,
	transparent 75%,
	transparent
  ) !important;
  border-radius: 2em;
}

::-webkit-scrollbar-corner {
  background-color: transparent;
}

::-moz-selection {
  color: #fff;
  background-color: #49b1f5;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background-color: #1f1f1f !important;
}
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶

  åœ¨ `inject->head` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
- <link rel="stylesheet" href="/css/scrollbar.css">
```







#### 2.20 å¢åŠ Pixiv æ—¥æ¦œ

**æ•ˆæœå›¾ï¼š**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e4713a64ee184936a81456f9972e4c50.png)




- åœ¨ `themes\Butterfly\layout\includes\widget` æ–‡ä»¶å¤¹æ–°å»º `card_pixiv.pug` æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š


```code
.card-widget.card-pixiv
  .card-content
    .item-headline
      i.fa.fa-image(aria-hidden="true")
      span= _p('aside.card_pixiv')
    iframe(src="https://cloud.mokeyjay.com/pixiv" frameborder="0" style="width:99%;height:380px;margin:0;")
```

	`https://cloud.mokeyjay.com/pixiv` ä½¿ç”¨çš„æ˜¯è¶…èƒ½å°ç´«æä¾›çš„æœåŠ¡ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œæ­å»º

- ç¼–è¾‘ `themes\Butterfly\layout\includes\widget\index.pug` æ–‡ä»¶ï¼Œåœ¨ä½ æƒ³è¦æ˜¾ç¤ºçš„ä½ç½®æ’å…¥ä»¥ä¸‹ä»£ç ï¼š

```code
if theme.aside.card_pixiv
    include ./card_pixiv.pug
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶ï¼Œåœ¨ `card_webinfo` ä¸‹é¢æ·»åŠ ä¸€è¡Œ `card_pixiv: true`

- ç¼–è¾‘ `themes\Butterfly\languages\zh-CN.yml` æ–‡ä»¶ (è¯·æ ¹æ®ä½ çš„ç½‘ç«™è¯­è¨€é€‰æ‹©)ï¼Œæ‰¾åˆ° `card_announcement: å…¬å‘Š` , åœ¨ä¸‹é¢æ·»åŠ ä¸€è¡Œ `card_pixiv: Pixivæ—¥æ¦œTop50`(åé¢çš„æ–‡æœ¬å¯è‡ªå®šä¹‰)

  å¦‚æœä¸æƒ³æ˜¾ç¤ºï¼Œç›´æ¥æŠŠ `_config.butterfly.yml` æ–‡ä»¶çš„ `card_pixiv: true` æ”¹ä¸º `card_pixiv: false` å³å¯

#### 2.21 Github-bride

**æ•ˆæœå›¾ï¼š**

![](https://img-blog.csdnimg.cn/img_convert/a0741eb7c10ce77ef1819e1a7ee8ad94.png)



- åœ¨ `themes\Butterfly\source\css` æ–‡ä»¶å¤¹æ–°å»º `badge.css` æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```css
.github-badge {
    display:inline-block;
    border-radius:4px;
    text-shadow:none;
    font-size:13px;
    color:#fff;
    line-height:15px;
    margin-bottom:5px;
}
.github-badge a{
    display: inline-block;
    margin: 0 1px 5px;
}
.github-badge .badge-subject {
    display:inline-block;
    background-color:#4D4D4D;
    padding:4px 4px 4px 6px;
    border-top-left-radius:4px;
    border-bottom-left-radius:4px;
}
.github-badge .badge-value {
    display:inline-block;
    padding:4px 6px 4px 4px;
    border-top-right-radius:4px;
    border-bottom-right-radius:4px;
}
.github-badge .bg-brightgreen {
    background-color:#4DC820 !important;
}
.github-badge .bg-orange {
    background-color:#FFA500 !important;
}
.github-badge .bg-yellow {
    background-color:#D8B024 !important;
}
.github-badge .bg-blueviolet {
    background-color:#8833D7 !important;
}
.github-badge .bg-pink {
    background-color:#F26BAE !important;
}
.github-badge .bg-red {
    background-color:#e05d44 !important;
}
.github-badge .bg-blue {
    background-color:#007EC6 !important;
}
.github-badge .bg-lightgrey {
    background-color:#9F9F9F !important;
}
.github-badge .bg-grey, .github-badge .bg-gray {
    background-color:#555 !important;
}
.github-badge .bg-lightgrey, .github-badge .bg-lightgray {
    background-color:#9f9f9f !important;
}
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶ã€åœ¨ `inject->head` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
- <link rel="stylesheet" href="/css/badge.css">
```

> ä»¥ä¸‹æ–¹æ³•ä»»é€‰ä¸€ç§

**æ–¹æ³•1ï¼š**

- ç¼–è¾‘ `themes\Butterfly\layout\includes\footer.pug` æ–‡ä»¶ï¼Œæ’å…¥ä»¥ä¸‹ä»£ç ï¼š

```code
if theme.githubBadge.enable
  .github-badge
    a(style="color: #fff" rel="license" href="https://hexo.io/" target="_blank" title="ç”± Hexo å¼ºåŠ›é©±åŠ¨")
       span(class="badge-subject") Powered
       span(class="badge-value bg-blue") Hexo
    a(style="color: #fff" rel="license" href="https://gitee.com/" target="_blank" title="é™æ€ç½‘é¡µæ‰˜ç®¡äº GitHub Pages å’Œ Coding Pages å’Œ Gitee Pages")
       span(class="badge-subject") Hosted
       span(class="badge-value bg-brightgreen") GitHub & Coding & Gitee
    a(style="color: #fff" rel="license" href="https://www.jsdelivr.com/" target="_blank" title="jsDelivr æä¾› CDN åŠ é€ŸæœåŠ¡")
       span(class="badge-subject") CDN
       span(class="badge-value bg-orange") jsDelivr
    a(style="color: #fff" rel="license" href="https://jerryc.me" target="_blank" title="ç«™ç‚¹ä½¿ç”¨ Butterflyä¸»é¢˜")
       span(class="badge-subject") Theme
       span(class="badge-value bg-blue") Butterfly
    a(style="color: #fff" rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="æœ¬ç«™ç‚¹é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯")
      span(class="badge-subject")
         i(class="fa fa-copyright")
      span(class="badge-value bg-lightgrey") BY-NC-SA 4.0
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶ã€æ·»åŠ 

```yml
# æ˜¯å¦å¼€å¯ Badge
githubBadge:
  enable: true
```

#### 2.22 tag å¤–æŒ‚æ ‡ç­¾

> è¯·æ³¨æ„ï¼šæ ·å¼å±•ç¤ºåœ¨  è¿™é‡Œä»…åŒ…æ‹¬ï¼š è‡ªå®šä¹‰æ ‡ç­¾ã€ æ–‡æœ¬æ®µè½ã€ å¤é€‰æ¡†ã€ å¯Œæ–‡æœ¬æŒ‰é’®ã€ Foldingã€ å¯†ç æ ·å¼çš„æ–‡æœ¬ã€ æ—¶é—´çº¿ ã€ Link

- æ‰¾åˆ° `themes\Butterfly\source\css` ä¸‹åˆ›å»º `tag.css` æ–‡ä»¶ã€æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```css
span.btn {
  display: inline;
}

span.btn > a {
  display: inline-block;
  background: #2196f3;
  color: #fff;
  padding: 4px 4px 2px 4px;
  margin: 2px;
  line-height: 1.1;
  border-radius: 2px;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}

span.btn > a i {
  margin-right: 2px;
}

span.btn > a:hover {
  color: #fff;
  background: #ff5722;
}

span.btn > a:not([href]) {
  opacity: 0.5;
}

span.btn > a:not([href]):hover {
  cursor: not-allowed;
}

span.btn.regular > a {
  padding: 8px 12px 6px 12px;
}

span.btn.regular > a i {
  margin-right: 4px;
}

span.btn.large > a {
  padding: 12px 36px 10px 36px;
}

span.btn.large > a i {
  margin-right: 8px;
}

span.btn.center {
  display: block;
  text-align: center;
}

[data-theme="dark"] div.btns {
  filter: brightness(0.7);
}

[data-theme="dark"] div.btns a {
  background: 0 0;
}

div.btns {
  margin: 0 -8px;
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  overflow: visible;
  line-height: 1.8;
}

div.btns,
div.btns p,
div.btns a {
  font-size: 0.8125rem;
  color: #555;
}

div.btns b {
  font-size: 0.875rem;
}

div.btns.wide > a {
  padding-left: 32px;
  padding-right: 32px;
}

div.btns.fill > a {
  flex-grow: 1;
  width: auto;
}

div.btns.around {
  justify-content: space-around;
}

div.btns.center {
  justify-content: center;
}

div.btns.grid2 > a {
  width: calc(100% / 2 - 16px);
}

@media screen and (max-width: 1024px) {
  div.btns.grid2 > a {
	width: calc(100% / 2 - 16px);
  }
}

@media screen and (max-width: 768px) {
  div.btns.grid2 > a {
	width: calc(100% / 2 - 16px);
  }
}

@media screen and (max-width: 500px) {
  div.btns.grid2 > a {
	width: calc(100% / 1 - 16px);
  }
}

div.btns.grid3 > a {
  width: calc(100% / 3 - 16px);
}

@media screen and (max-width: 1024px) {
  div.btns.grid3 > a {
	width: calc(100% / 3 - 16px);
  }
}

@media screen and (max-width: 768px) {
  div.btns.grid3 > a {
	width: calc(100% / 3 - 16px);
  }
}

@media screen and (max-width: 500px) {
  div.btns.grid3 > a {
	width: calc(100% / 1 - 16px);
  }
}

div.btns.grid4 > a {
  width: calc(100% / 4 - 16px);
}

@media screen and (max-width: 1024px) {
  div.btns.grid4 > a {
	width: calc(100% / 3 - 16px);
  }
}

@media screen and (max-width: 768px) {
  div.btns.grid4 > a {
	width: calc(100% / 3 - 16px);
  }
}

@media screen and (max-width: 500px) {
  div.btns.grid4 > a {
	width: calc(100% / 2 - 16px);
  }
}

div.btns.grid5 > a {
  width: calc(100% / 5 - 16px);
}

@media screen and (max-width: 1024px) {
  div.btns.grid5 > a {
	width: calc(100% / 4 - 16px);
  }
}

@media screen and (max-width: 768px) {
  div.btns.grid5 > a {
	width: calc(100% / 3 - 16px);
  }
}

@media screen and (max-width: 500px) {
  div.btns.grid5 > a {
	width: calc(100% / 2 - 16px);
  }
}

div.btns a {
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  margin: 8px;
  margin-top: calc(1.25 * 16px + 32px);
  min-width: 120px;
  font-weight: bold;
  display: flex;
  justify-content: flex-start;
  align-content: center;
  align-items: center;
  flex-direction: column;
  padding: 8px;
  text-align: center;
  background: #f6f6f6;
  border-radius: 4px;
}

div.btns a > img:first-child,
div.btns a > i:first-child {
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  height: 64px;
  width: 64px;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.1);
  margin: 16px 8px 4px 8px;
  margin-top: calc(-1.25 * 16px - 32px);
  border: 2px solid #fff;
  background: #fff;
  line-height: 60px;
  font-size: 28px;
}

div.btns a > img:first-child.auto,
div.btns a > i:first-child.auto {
  width: auto;
}

div.btns a > i:first-child {
  color: #fff;
  background: #2196f3;
}

div.btns a p,
div.btns a b {
  margin: 0.25em;
  font-weight: normal;
  line-height: 1.25;
  word-wrap: break-word;
}

div.btns a b {
  font-weight: bold;
  line-height: 1.3;
}

div.btns a img {
  margin: 0.4em auto;
}

div.btns a:not([href]) {
  cursor: default;
  color: inherit;
}

div.btns a[href]:hover {
  background: rgba(255, 87, 34, 0.15);
}

div.btns a[href]:hover,
div.btns a[href]:hover b {
  color: #ff5722;
}

div.btns a[href]:hover > img:first-child,
div.btns a[href]:hover > i:first-child {
  transform: scale(1.1) translateY(-8px);
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1);
}

div.btns a[href]:hover > i:first-child {
  background: #ff5722;
}

div.btns.circle a > img:first-child,
div.btns.circle a > i:first-child {
  border-radius: 32px;
}

div.btns.rounded a > img:first-child,
div.btns.rounded a > i:first-child {
  border-radius: 16px;
}

[data-theme="dark"] .checkbox {
  filter: brightness(0.7);
}

.checkbox {
  display: flex;
  align-items: center;
}

.checkbox input {
  -webkit-appearance: none;
  -moz-appearance: none;
  -ms-appearance: none;
  -o-appearance: none;
  appearance: none;
  position: relative;
  height: 16px;
  width: 16px;
  transition: all 0.15s ease-out 0s;
  cursor: pointer;
  display: inline-block;
  outline: none;
  border-radius: 2px;
  flex-shrink: 0;
  margin-right: 8px;
}

.checkbox input[type="checkbox"]:before,
.checkbox input[type="checkbox"]:after {
  position: absolute;
  content: "";
  background: #fff;
}

.checkbox input[type="checkbox"]:before {
  left: 1px;
  top: 5px;
  width: 0;
  height: 2px;
  transition: all 0.2s ease-in;
  transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  -o-transform: rotate(45deg);
}

.checkbox input[type="checkbox"]:after {
  right: 7px;
  bottom: 3px;
  width: 2px;
  height: 0;
  transition: all 0.2s ease-out;
  transform: rotate(40deg);
  -webkit-transform: rotate(40deg);
  -moz-transform: rotate(40deg);
  -ms-transform: rotate(40deg);
  -o-transform: rotate(40deg);
  transition-delay: 0.25s;
}

.checkbox input[type="checkbox"]:checked:before {
  left: 0;
  top: 7px;
  width: 6px;
  height: 2px;
}

.checkbox input[type="checkbox"]:checked:after {
  right: 3px;
  bottom: 1px;
  width: 2px;
  height: 10px;
}

.checkbox.minus input[type="checkbox"]:before {
  transform: rotate(0);
  left: 1px;
  top: 5px;
  width: 0;
  height: 2px;
}

.checkbox.minus input[type="checkbox"]:after {
  transform: rotate(0);
  left: 1px;
  top: 5px;
  width: 0;
  height: 2px;
}

.checkbox.minus input[type="checkbox"]:checked:before {
  left: 1px;
  top: 5px;
  width: 10px;
  height: 2px;
}

.checkbox.minus input[type="checkbox"]:checked:after {
  left: 1px;
  top: 5px;
  width: 10px;
  height: 2px;
}

.checkbox.plus input[type="checkbox"]:before {
  transform: rotate(0);
  left: 1px;
  top: 5px;
  width: 0;
  height: 2px;
}

.checkbox.plus input[type="checkbox"]:after {
  transform: rotate(0);
  left: 5px;
  top: 1px;
  width: 2px;
  height: 0;
}

.checkbox.plus input[type="checkbox"]:checked:before {
  left: 1px;
  top: 5px;
  width: 10px;
  height: 2px;
}

.checkbox.plus input[type="checkbox"]:checked:after {
  left: 5px;
  top: 1px;
  width: 2px;
  height: 10px;
}

.checkbox.times input[type="checkbox"]:before {
  transform: rotate(45deg);
  left: 3px;
  top: 1px;
  width: 0;
  height: 2px;
}

.checkbox.times input[type="checkbox"]:after {
  transform: rotate(135deg);
  right: 3px;
  top: 1px;
  width: 0;
  height: 2px;
}

.checkbox.times input[type="checkbox"]:checked:before {
  left: 1px;
  top: 5px;
  width: 10px;
  height: 2px;
}

.checkbox.times input[type="checkbox"]:checked:after {
  right: 1px;
  top: 5px;
  width: 10px;
  height: 2px;
}

.checkbox input[type="radio"] {
  border-radius: 50%;
}

.checkbox input[type="radio"]:before {
  content: "";
  display: block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin: 2px;
  transform: scale(0);
  transition: all 0.25s ease-out;
}

.checkbox input[type="radio"]:checked:before {
  transform: scale(1);
}

.checkbox input {
  border: 2px solid #2196f3;
}

.checkbox input[type="checkbox"]:checked {
  background: #2196f3;
}

.checkbox input[type="radio"]:checked:before {
  background: #2196f3;
}

.checkbox.red input {
  border-color: #fe5f58;
}

.checkbox.red input[type="checkbox"]:checked {
  background: #fe5f58;
}

.checkbox.red input[type="radio"]:checked:before {
  background: #fe5f58;
}

.checkbox.green input {
  border-color: #3dc550;
}

.checkbox.green input[type="checkbox"]:checked {
  background: #3dc550;
}

.checkbox.green input[type="radio"]:checked:before {
  background: #3dc550;
}

.checkbox.yellow input {
  border-color: #ffbd2b;
}

.checkbox.yellow input[type="checkbox"]:checked {
  background: #ffbd2b;
}

.checkbox.yellow input[type="radio"]:checked:before {
  background: #ffbd2b;
}

.checkbox.cyan input {
  border-color: #1bcdfc;
}

.checkbox.cyan input[type="checkbox"]:checked {
  background: #1bcdfc;
}

.checkbox.cyan input[type="radio"]:checked:before {
  background: #1bcdfc;
}

.checkbox.blue input {
  border-color: #2196f3;
}

.checkbox.blue input[type="checkbox"]:checked {
  background: #2196f3;
}

.checkbox.blue input[type="radio"]:checked:before {
  background: #2196f3;
}

.checkbox p {
  display: inline-block;
  margin-top: 2px !important;
  margin-bottom: 0 !important;
}

[data-theme="dark"] details {
  filter: brightness(0.7);
}

details {
  display: block;
  padding: 16px;
  margin: 0.5rem 0;
  border-radius: 4px;
  font-size: 0.7375rem;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  border: 1px solid #f6f6f6;
}

details summary {
  cursor: pointer;
  padding: 16px;
  margin: -16px;
  border-radius: 4px;
  color: rgba(85, 85, 85, 0.7);
  font-size: 0.7375rem;
  font-weight: bold;
  position: relative;
  line-height: normal;
}

details summary > p,
details summary > h1,
details summary > h2,
details summary > h3,
details summary > h4,
details summary > h5,
details summary > h6 {
  display: inline;
  border-bottom: none !important;
}

details summary:hover {
  color: #555;
}

details summary:hover:after {
  position: absolute;
  content: "+";
  text-align: center;
  top: 50%;
  transform: translateY(-50%);
  right: 16px;
}

details > summary {
  background: #f6f6f6;
}

details[blue] {
  border-color: #e8f4fd;
}

details[blue] > summary {
  background: #e8f4fd;
}

details[cyan] {
  border-color: #e8fafe;
}

details[cyan] > summary {
  background: #e8fafe;
}

details[green] {
  border-color: #ebf9ed;
}

details[green] > summary {
  background: #ebf9ed;
}

details[yellow] {
  border-color: #fff8e9;
}

details[yellow] > summary {
  background: #fff8e9;
}

details[red] {
  border-color: #feefee;
}

details[red] > summary {
  background: #feefee;
}

details[open] {
  border-color: rgba(85, 85, 85, 0.2);
}

details[open] > summary {
  border-bottom: 1px solid rgba(85, 85, 85, 0.2);
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

details[open][blue] {
  border-color: rgba(33, 150, 243, 0.3);
}

details[open][blue] > summary {
  border-bottom-color: rgba(33, 150, 243, 0.3);
}

details[open][cyan] {
  border-color: rgba(27, 205, 252, 0.3);
}

details[open][cyan] > summary {
  border-bottom-color: rgba(27, 205, 252, 0.3);
}

details[open][green] {
  border-color: rgba(61, 197, 80, 0.3);
}

details[open][green] > summary {
  border-bottom-color: rgba(61, 197, 80, 0.3);
}

details[open][yellow] {
  border-color: rgba(255, 189, 43, 0.3);
}

details[open][yellow] > summary {
  border-bottom-color: rgba(255, 189, 43, 0.3);
}

details[open][red] {
  border-color: rgba(254, 95, 88, 0.3);
}

details[open][red] > summary {
  border-bottom-color: rgba(254, 95, 88, 0.3);
}

details[open] > summary {
  color: #555;
  margin-bottom: 0;
}

details[open] > summary:hover:after {
  content: "-";
}

details[open] > div.content {
  padding: 16px;
  margin: -16px;
  margin-top: 0;
}

details[open] > div.content p > a:hover {
  text-decoration: underline;
}

[data-theme="dark"] span.p {
  filter: brightness(0.7);
}

p.p.subtitle {
  font-weight: bold;
  color: #2196f3;
  padding-top: 1rem;
}

p.p.subtitle:first-child {
  padding-top: 0.5rem;
}

span.p.code,
p.p.code {
  font-family: Menlo, Monaco, monospace, courier, sans-serif;
}

span.p.left,
p.p.left {
  display: block;
  text-align: left;
}

span.p.center,
p.p.center {
  display: block;
  text-align: center;
}

span.p.right,
p.p.right {
  display: block;
  text-align: right;
}

span.p.small,
p.p.small {
  font-size: 0.575rem;
}

span.p.large,
p.p.large {
  font-size: 2rem;
  line-height: 1.4;
}

span.p.huge,
p.p.huge {
  font-size: 4rem;
  line-height: 1.4;
}

span.p.ultra,
p.p.ultra {
  font-size: 6rem;
  line-height: 1.4;
}

span.p.small,
p.p.small,
span.p.large,
p.p.large,
span.p.huge,
p.p.huge,
span.p.ultra,
p.p.ultra {
  font-family: UbuntuMono, "PingFang SC", "Microsoft YaHei", Helvetica, Arial,
	Menlo, Monaco, monospace, sans-serif;
  margin: 0;
  padding: 0;
}

span.p.bold,
p.p.bold {
  font-weight: bold;
}

span.p.h1,
p.p.h1 {
  font-size: 1.625rem;
  color: #555;
  padding-top: 1rem;
}

span.p.h2,
p.p.h2 {
  font-size: 1.375rem;
  color: var(--font-color);
  padding-top: 1rem;
  border-bottom: 1px solid var(--hr-border);
}

span.p.h3,
p.p.h3 {
  font-size: 1.25rem;
  color: #2196f3;
  padding-top: 1rem;
}

span.p.h4,
p.p.h4 {
  font-size: 1.125rem;
  color: #555;
  padding-top: 1rem;
}

span.p.red,
p.p.red {
  color: #fe5f58;
}

span.p.yellow,
p.p.yellow {
  color: #ffbd2b;
}

span.p.green,
p.p.green {
  color: #3dc550;
}

span.p.cyan,
p.p.cyan {
  color: #1bcdfc;
}

span.p.blue,
p.p.blue {
  color: #2196f3;
}

span.p.gray,
p.p.gray {
  color: #666;
}
/*tag end*/

/*noteæ ‡ç­¾ https://lovelijunyi.gitee.io/posts/c898.html*/
div.note.red::before {
  content: "\f054";
}

div.note.quote {
  background: #e8f4fd;
  border-color: #2196f3;
}

div.note.quote::before {
  color: #2196f3;
  content: "\f10d";
}

div.note.radiation::before {
  content: "\f7b9";
}

div.note.bug::before {
  content: "\f188";
}

div.note.idea::before {
  content: "\f0eb";
}

div.note.link::before {
  content: "\f0c1";
}

div.note.paperclip::before {
  content: "\f0c6";
}

div.note.todo::before {
  content: "\f0ae";
}

div.note.message::before {
  content: "\f4ad";
}

div.note.guide::before {
  content: "\f277";
}

div.note.download::before {
  content: "\f019";
}

div.note.up::before {
  content: "\f102";
}

div.note.undo::before {
  content: "\f2ea";
}

div.note.play::before {
  content: "\f144";
}

div.note.message::before {
  content: '\f4ad';
}

div.note.clear {
  background: none;
  border-color: none;
}

div.note.light {
  background: #f6f6f6;
  border-color: #aaa;
}

div.note.light::before {
  color: #aaa;
}

div.note.gray {
  background: #f6f6f6;
  border-color: #767676;
}

div.note.gray::before {
  color: #767676;
}

div.note.red {
  background: #feefee;
  border-color: #fe5f58;
}

div.note.red::before {
  color: #fe5f58;
}

div.note.yellow {
  background: #fff8e9;
  border-color: #ffbd2b;
}

div.note.yellow::before {
  color: #ffbd2b;
}

div.note.green {
  background: #ebf9ed;
  border-color: #3dc550;
}

div.note.green::before {
  color: #3dc550;
}

div.note.cyan::before {
  color: #1bcdfc;
}

div.note.blue::before {
  color: #2196f3;
}

div.note.blue {
  background: #e8f4fd;
  border-color: #2196f3;
}

[data-theme="dark"] .note p{
  color: #000;
}
/*noteæ ‡ç­¾ç»“æŸ*/

/* æ ‡ç­¾æ˜¾å½± */
#article-container psw:hover {
  color: #333;
  background: none;
}

#article-container psw {
  color: transparent;
  background: #666;
  border-radius: 2px;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}

[data-theme="dark"] #article-container psw:hover {
  color: #fff;
  filter: brightness(0.7);
}
/* æ ‡ç­¾æ˜¾å½±END */

/* æ—¶é—´çº¿ */
div.timenode {
  position: relative;
}
div.timenode:before,
div.timenode:after {
  content: "";
  z-index: 1;
  position: absolute;
  background: rgba(68, 215, 182, 0.5);
  width: 2px;
  left: 7px;
}
div.timenode:before {
  top: 0;
  height: 6px;
}
div.timenode:after {
  top: 26px;
  height: calc(100% - 26px);
}
div.timenode:last-child:after {
  height: calc(100% - 26px - 16px);
  border-bottom-left-radius: 2px;
  border-bottom-right-radius: 2px;
}
div.timenode .meta,
div.timenode .body {
  max-width: calc(100% - 24px);
}
div.timenode .meta {
  position: relative;
  color: var(--tab-botton-color);
  font-size: 0.375rem;
  line-height: 32px;
  height: 32px;
}
div.timenode .meta:before,
div.timenode .meta:after {
  content: "";
  position: absolute;
  top: 8px;
  z-index: 2;
}
div.timenode .meta:before {
  background: rgba(68, 215, 182, 0.5);
  width: 16px;
  height: 16px;
  border-radius: 8px;
}
div.timenode .meta:after {
  background: #44d7b6;
  margin-left: 2px;
  margin-top: 2px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  transform: scale(0.5);
}
div.timenode .meta p {
  font-weight: bold !important;
  margin: 0 0 0 24px !important;
}
div.timenode .body {
  margin: 4px 0 10px 24px;
  padding: 10px;
  border-radius: 12px;
  background: #efeded;
  display: inline-block;
}
div.timenode .body p:first-child {
  margin-top: 0 !important;
}
div.timenode .body p:last-child {
  margin-bottom: 0 !important;
}
div.timenode .body .highlight {
  background: #fff7ea;
  filter: grayscale(0%);
}
div.timenode .body .highlight figcaption {
  background: #ffeed2;
}
div.timenode .body .highlight .gutter {
  background: #ffedd0;
}
div.timenode:hover .meta {
  color: #444;
}
div.timenode:hover .meta:before {
  background: rgba(255, 87, 34, 0.5);
}
div.timenode:hover .meta:after {
  background: #ff5722;
  transform: scale(1);
}

[data-theme="dark"] div.timenode .body {
  background: #2c2c2c;
}

[data-theme="dark"] div.timenode:hover .meta {
  color: #ccd0d7;
}

[data-theme="dark"] div.timenode .meta {
  color: rgba(255, 255, 255, 0.6);
}

[data-theme="dark"] div.timeline p.p.h2 {
  color: rgba(255, 255, 255, 0.6);
}

/* link */
#article-container a.link-card {
  margin: 0.25rem auto;
  background: #f6f6f6;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  text-align: center;
  min-width: 200px;
  max-width: 361px;
  color: #444;
  border-radius: 12px;
  text-decoration: none;
}
@media screen and (max-width: 425px) {
  #article-container a.link-card {
	max-width: 100%;
  }
}
@media screen and (max-width: 375px) {
  #article-container a.link-card {
	width: 100%;
  }
}
#article-container a.link-card:hover {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1);
}
#article-container a.link-card div.left,
#article-container a.link-card div.right {
  pointer-events: none;
}
#article-container a.link-card div.left {
  width: 48px;
  height: 48px;
  margin: 12px;
  overflow: hidden;
  flex-shrink: 0;
  position: relative;
}
#article-container a.link-card div.left i {
  font-size: 32px;
  line-height: 48px;
  margin-left: 4px;
}
#article-container a.link-card div.left img {
  display: block;
  position: absolute;
  border-radius: 8px / 4;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
#article-container a.link-card div.right {
  overflow: hidden;
  margin-right: 12px;
}
#article-container a.link-card p {
  margin: 0;
}
#article-container a.link-card p.text {
  font-weight: bold;
}
#article-container a.link-card p.url {
  flex-shrink: 0;
  color: rgba(68, 68, 68, 0.65);
  font-size: 13px;
}

[data-theme="dark"] #article-container a.link-card img {
  filter: brightness(1);
}

[data-theme="dark"] #article-container a.link-card {
  filter: brightness(0.7);
}
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶

  åœ¨ `inject->head` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
- <link rel="stylesheet" href="/css/tag.css">
```

- ä¸‹è½½ [hexo-theme-volantis](https://github.com/volantis-x/hexo-theme-volantis/tree/master/scripts/tags) ä¸»é¢˜ã€å¤åˆ¶ `scripts\tags` ä¸‹çš„ä¸»é¢˜åˆ° `themes\Butterfly\scripts\tag` ä¸­ã€å¤åˆ¶ä»¥ä¸‹æ–‡ä»¶å³å¯

```code
btns.js
checkbox.js
folding.js
link.js
span.js
timeline.js
```

- ä½¿ç”¨å‚è€ƒ [Volantis ä¸“ç”¨æ ‡ç­¾](https://volantis.js.org/tag-plugins/) æˆ–è€… [åŸºäº Butterfly ä¸»é¢˜é­”æ”¹çš„æ ·å¼æŸ¥é˜…](https://zykj.js.org/posts/e297feab/)



#### 2.23 å½“å‰è®¿é—®ç”¨æˆ·

**æ•ˆæœå›¾ï¼š** 

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ac87bdd538f447c49c01edcf662c0e6c.png)




> ä½¿ç”¨å‰é¡»çŸ¥ï¼šç¡®ä¿ä½¿ç”¨äº†ä¸Šé¢ [tag å¤–æŒ‚æ ‡ç­¾](https://zykj.js.org/posts/e55bad60/#tagå¤–æŒ‚æ ‡ç­¾) span çš„æ ·å¼ ã€å¦åˆ™æ²¡æœ‰å½©è‰²æ ·å¼

- åœ¨ `themes\Butterfly\layout\includes\widget\` ä¸‹åˆ›å»º `card_ip.pug` æ–‡ä»¶

```code
.card-widget.card-ip
  .card-content
  .item-headline
    i.fa.fa-user(aria-hidden="true")
    span= _p('aside.card_ip')
  .ip_content
   = _p('æ¬¢è¿æ¥è‡ª ')
   span(class="p red")= _p('æœªçŸ¥åŒºåŸŸ')
   = _p(' çš„å°ä¼™ä¼´')
   br
   = _p('è®¿é—®IPä¸ºï¼š ')
   span(class="p cyan")= _p('æœªçŸ¥IP')
   br
   = _p('æµè§ˆå™¨ç‰ˆæœ¬ï¼š')
   span(class="p blue")= _p('æœªçŸ¥æµè§ˆå™¨')
```

- ç¼–è¾‘ `index.pug` ã€ åœ¨åˆé€‚ä½ç½®æ·»åŠ 

```code
if theme.aside.card_ip
    !=partial('includes/widget/card_ip', {}, {cache: theme.fragment_cache})
```

- ç¼–è¾‘ `themes\Butterfly\languages\zh-CN.yml` æ–‡ä»¶ã€åœ¨ `aside` ä¸‹æ·»åŠ 

```code
card_ip: true
```

- åœ¨ `themes\Butterfly\source\js` ä¸‹åˆ›å»º `ip_content.js`

```js
//è·å–å½“å‰IPåœ°å€å’Œæµè§ˆå™¨æ ‡è¯†
function getBrowserInfo() {
    var agent = navigator.userAgent.toLowerCase();

    var regStr_ie = /msie [\d.]+;/gi;
    var regStr_ff = /firefox\/[\d.]+/gi
    var regStr_chrome = /chrome\/[\d.]+/gi;
    var regStr_saf = /safari\/[\d.]+/gi;

    //IE
    if (agent.indexOf("msie") > 0) {
        return agent.match(regStr_ie);
    }

    //firefox
    if (agent.indexOf("firefox") > 0) {
        return agent.match(regStr_ff);
    }

    //Chrome
    if (agent.indexOf("chrome") > 0) {
        return agent.match(regStr_chrome);
    }

    //Safari
    if (agent.indexOf("safari") > 0 && agent.indexOf("chrome") < 0) {
        return agent.match(regStr_saf);
    }
}

var ip_content = document.querySelector(".ip_content");

if (ip_content != null && typeof (returnCitySN) != undefined) {
    ip_content.innerHTML = 'æ¬¢è¿æ¥è‡ª <span class="p red">' + returnCitySN["cname"] + "</span> çš„å°ä¼™ä¼´<br>" + "è®¿é—®IPä¸ºï¼š <span class='p cyan'>" + returnCitySN["cip"] + "</span><br>æµè§ˆå™¨ç‰ˆæœ¬ï¼š<span class='p blue'>" + getBrowserInfo() + '</span>';
}
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶ã€åœ¨ `inject->bottom` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
- <script src="https://pv.sohu.com/cityjson?ie=utf-8"></script>
- <script src="/js/ip_content.js"></script>
```

**ä½¿ç”¨çš„æ˜¯æœç‹çš„è·å– ip å’Œä½ç½®ã€æ˜¾ç¤ºçš„å¹¶ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œä½†æ˜¯ç›®å‰ä½“éªŒæ¥çœ‹è¿˜æ˜¯å¾ˆä¸é”™çš„!!!**

#### 2.24 ç§»åŠ¨ç«¯é»˜è®¤æŠ˜å 

> æ–¹æ³• 1:

- åœ¨ `themes\Butterfly\source\js` æ–‡ä»¶å¤¹æ–°å»º `Mobile_folding.js` æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```js
//æ‰‹æœºä¾§è¾¹æ é»˜è®¤ä¸å±•å¼€
var mobile_sidebar_menus = document.getElementById("mobile-sidebar-menus");
if (mobile_sidebar_menus != null) {
    var menus_item_child = mobile_sidebar_menus.getElementsByClassName("menus_item_child");
    var menus_expand = mobile_sidebar_menus.getElementsByClassName("expand");
    for (var i = 0; i < menus_item_child.length; i++) {
        menus_item_child[i].style.display = "none";
        menus_expand[i].className += " closed";
    }
}   
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶

  åœ¨ `inject->bottom` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
- <script src="/js/Mobile_folding.js"></script>
```

> æ–¹æ³• 2:

æœ€æ–°ç‰ˆä¸»é¢˜é…ç½®ã€ ç¼–è¾‘`_config.butterfly.yml`

```yml
# Hide the child menu items in mobile sidebar
hide_sidebar_menu_child: true
```

#### 2.25 Aplayer æ’­æ”¾å™¨è‡ªåŠ¨æ”¶ç¼©

> æ³¨æ„ï¼šæ­¤æ–¹æ³•åªé’ˆå¯¹å·¦ä¸‹è§’å¼€å¯äº† Aplayer

- æ‰¾åˆ° `themes\Butterfly\source\css` ä¸‹åˆ›å»º `aplayerdiy.css` æ–‡ä»¶ã€è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š

```css
.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
    left: -66px !important;
}

.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
    left: 0 !important;
}
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶ã€åœ¨ `inject->head` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
- <link rel="stylesheet" href="/css/aplayerdiy.css">
```

#### 2.26 é¼ æ ‡æŒ‡é’ˆæ ·å¼

> çœ‹æˆ‘åšå®¢çš„é¼ æ ‡æŒ‡é’ˆ

- æ‰¾åˆ° `themes\Butterfly\source\css` ä¸‹åˆ›å»º `mouse.css` æ–‡ä»¶ã€è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š

  **urlé‡Œçš„å›¾ç‰‡é“¾æ¥å¯ä»¥è‡ªè¡Œæ›¿æ¢æˆè‡ªå·±çš„**

```css
/*é¼ æ ‡æ ·å¼*/
body,
html {
  cursor: url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/img/Arrow.cur),
	auto !important;
}

a,
img {
  cursor: url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/img/link.cur),
	auto !important;
}

/*aæ ‡ç­¾*/
a:hover {
  cursor: url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/img/link.cur),
	auto !important;
}

/*æŒ‰é’®*/
button:hover {
  cursor: url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/img/link.cur),
	auto !important;
}

/*iæ ‡ç­¾*/
i:hover {
  cursor: url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/img/link.cur),
	auto !important;
}

/*é¡µè„šaæ ‡ç­¾*/
#footer-wrap a:hover {
  cursor: url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/img/link.cur),
	auto !important;
}

/*åˆ†é¡µå™¨*/
#pagination .page-number:hover {
  cursor: url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/img/link.cur),
	auto !important;
}

/*å¤´éƒ¨çš„å¯¼èˆªæ */
#nav .site-page:hover {
  cursor: url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/img/link.cur),
	auto !important;
}
/*é¼ æ ‡æ ·å¼END*/
```

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶ã€åœ¨ `inject->head` ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
- <link rel="stylesheet" href="/css/mousediy.css">
```

#### 2.27 æ¸å˜èƒŒæ™¯

- ç¼–è¾‘ `_config.butterfly.yml` æ–‡ä»¶ã€æ‰¾åˆ° `background` ä¿®æ”¹é‡Œé¢çš„å†…å®¹

```yml
background: 'linear-gradient(0deg,rgba(247,149,51,0.1) 0,rgba(243,112,85,0.1) 15%,rgba(239,78,123,0.1) 30%,rgba(161,102,171,0.1) 44%,rgba(80,115,184,0.1) 58%,rgba(16,152,173,0.1) 72%,rgba(7,179,155,0.1) 86%,rgba(109,186,130,0.1) 100%);'
```



------

## ğŸŒˆç¬¬ä¸‰éƒ¨åˆ† ä¼˜åŒ– Hexo

### 1. ç½‘ç«™SEOä¼˜åŒ–

------

ç½‘ç«™æ¨å¹¿æ˜¯ä¸€ä¸ªæ¯”è¾ƒçƒ¦äººçš„äº‹æƒ…ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¸“å¿ƒææŠ€æœ¯çš„æ¥è¯´ï¼Œå¯èƒ½å°±ä¸æ˜¯å¾ˆæ“…é•¿ï¼Œé‚£ä¹ˆæ€ä¹ˆæ‰èƒ½è®©åˆ«äººçŸ¥é“æˆ‘ä»¬ç½‘ç«™å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦æƒ³åŠæ³•è®©åˆ«äººé€šè¿‡æœç´¢å°±å¯ä»¥æœç´¢åˆ°åšå®¢çš„å†…å®¹ï¼Œç»™æˆ‘ä»¬å¸¦æ¥è‡ªç„¶æµé‡ï¼Œè¿™å°±éœ€è¦`seo`ä¼˜åŒ–,è®©æˆ‘ä»¬çš„ç«™ç‚¹å˜å¾—å¯¹æœç´¢å¼•æ“å‹å¥½

> `SEO`æ˜¯ç”±è‹±æ–‡`Search Engine Optimization`ç¼©å†™è€Œæ¥ï¼Œ ä¸­æ–‡æ„è¯‘ä¸ºâ€œæœç´¢å¼•æ“ä¼˜åŒ–â€ã€‚`SEO`æ˜¯æŒ‡é€šè¿‡ç«™å†…ä¼˜åŒ–æ¯”å¦‚ç½‘ç«™ç»“æ„è°ƒæ•´ã€ç½‘ç«™å†…å®¹å»ºè®¾ã€ç½‘ç«™ä»£ç ä¼˜åŒ–ç­‰ä»¥åŠç«™å¤–ä¼˜åŒ–ã€‚

#### 1.1 è®©ç™¾åº¦æ”¶å½•ä½ çš„ç«™ç‚¹

------

é¦–å…ˆè¦åšçš„å°±æ˜¯è®©å„å¤§æœç´¢å¼•æ“æ”¶å½•ä½ çš„ç«™ç‚¹ï¼Œæˆ‘ä»¬åœ¨åˆšå»ºç«™çš„æ—¶å€™å„ä¸ªæœç´¢å¼•æ“æ˜¯æ²¡æœ‰æ”¶å½•æˆ‘ä»¬ç½‘ç«™çš„ï¼Œåœ¨æœç´¢å¼•æ“ä¸­è¾“å…¥`site:<åŸŸå>`,å¦‚æœå¦‚ä¸‹å›¾æ‰€ç¤ºå°±æ˜¯è¯´æ˜æˆ‘ä»¬çš„ç½‘ç«™å¹¶æ²¡æœ‰è¢«ç™¾åº¦æ”¶å½•ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥ç‚¹å‡»ä¸‹é¢çš„â€œç½‘å€æäº¤â€æ¥æäº¤æˆ‘ä»¬çš„ç½‘ç«™

![image-20220508172304905](https://img-blog.csdnimg.cn/img_convert/af5dae57c837ce63e767845111c5197a.png)

**æŸ¥çœ‹ç«™ç‚¹æ˜¯å¦è¢«ç™¾åº¦æ”¶å½•**



#### 1.1.1 éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ

------

ç™»å½•ç™¾åº¦ç«™é•¿æœç´¢èµ„æºå¹³å°ï¼š[http://zhanzhang.baidu.comï¼Œ](http://zhanzhang.baidu.com%2C/) åªè¦æœ‰ç™¾åº¦æ——ä¸‹çš„è´¦å·å°±å¯ä»¥ç™»å½•ï¼Œç™»å½•æˆåŠŸä¹‹ååœ¨ç«™ç‚¹ç®¡ç†ä¸­ç‚¹å‡»[æ·»åŠ ç½‘ç«™](http://zhanzhang.baidu.com/site/siteadd)ç„¶åè¾“å…¥ä½ çš„ç«™ç‚¹åœ°å€ã€‚

> æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦è¾“å…¥æˆ‘ä»¬è‡ªå·±è´­ä¹°çš„åŸŸå,ä¸èƒ½ä½¿ç”¨`xxx.github.io`ä¹‹ç±»åŸŸå.å› ä¸º`github`æ˜¯ä¸å…è®¸ç™¾åº¦çš„`spider`ï¼ˆèœ˜è››ï¼‰çˆ¬å–`github`ä¸Šçš„å†…å®¹çš„ï¼Œæ‰€ä»¥å¦‚æœæƒ³è®©ä½ çš„ç«™ç‚¹è¢«ç™¾åº¦æ”¶å½•ï¼Œåªèƒ½ä½¿ç”¨è‡ªå·±è´­ä¹°çš„åŸŸå



#### **å‘ç™¾åº¦ç«™é•¿æ·»åŠ ç½‘ç«™**



åœ¨å¡«å®Œç½‘å€é€‰æ‹©å®Œç½‘ç«™çš„ç±»å‹ä¹‹åéœ€è¦éªŒè¯ç½‘ç«™çš„æ‰€æœ‰æƒï¼ŒéªŒè¯ç½‘ç«™æ‰€æœ‰æƒçš„æ–¹å¼æœ‰ä¸‰ç§ï¼š

- æ–‡ä»¶éªŒè¯ã€‚
- `html`æ ‡ç­¾éªŒè¯
- `CNAME`è§£æéªŒè¯ï¼ˆ**æ¨èä½¿ç”¨**ï¼‰

**éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ**



å…¶å®ä½¿ç”¨å“ªä¸€ç§æ–¹å¼éƒ½å¯ä»¥ï¼Œéƒ½æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚

> **ä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œä½¿ç”¨æ–‡ä»¶éªŒè¯æ–‡ä»¶å­˜æ”¾çš„ä½ç½®éœ€è¦æ”¾åœ¨`sourc`æ–‡ä»¶å¤¹ä¸‹ï¼Œå¦‚æœæ˜¯`html`æ–‡ä»¶é‚£ä¹ˆ`hexo`å°±ä¼šå°†å…¶ç¼–è¯‘ï¼Œæ‰€ä»¥å¿…é¡»è¦åœ¨`html`å¤´éƒ¨åŠ ä¸Šçš„`layout:false`ï¼Œè¿™æ ·å°±ä¸ä¼šè¢«`hexo`ç¼–è¯‘ã€‚ï¼ˆå¦‚æœéªŒè¯æ–‡ä»¶æ˜¯`txt`æ ¼å¼çš„å°±ä¸éœ€è¦ï¼‰**

å…¶ä»–ä¸¤ç§æ–¹å¼ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œä¸ªäººæ¨è`æ–‡ä»¶éªŒè¯`å’Œ`CNAME`éªŒè¯ï¼Œ`CNAME`éªŒè¯æœ€ä¸ºç®€å•ï¼Œåªéœ€åŠ ä¸€æ¡è§£æå°±å¥½~

**æ·»åŠ äº‘è§£æ**



**éªŒè¯é€šè¿‡**



##### 1.1.2 ç”Ÿæˆç½‘ç«™åœ°å›¾

------

æˆ‘ä»¬éœ€è¦ä½¿ç”¨`npm`è‡ªåŠ¨ç”Ÿæˆç½‘ç«™çš„`sitemap`ï¼Œç„¶åå°†ç”Ÿæˆçš„`sitemap`æäº¤åˆ°ç™¾åº¦å’Œå…¶ä»–æœç´¢å¼•æ“

##### 1.1.2.1 å®‰è£…sitemapæ’ä»¶

------



```bash
npm install hexo-generator-sitemap --save     
npm install hexo-generator-baidu-sitemap --save
```



##### 1.1.2.2 ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶

------

åœ¨æ ¹ç›®å½•é…ç½®æ–‡ä»¶`.yml`ä¸­ä¿®æ”¹`url`ä¸ºä½ çš„ç«™ç‚¹åœ°å€



```yml
# URL
## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'
# url: https://shw2018.github.io/
url: https://sunhwee.com
root: /
permalink: :year/:month/:day/:title/
permalink_defaults:
```

Yml

æ‰§è¡Œå®Œ`hexo g`å‘½ä»¤ä¹‹åå°±ä¼šåœ¨ç½‘ç«™æ ¹ç›®å½•ç”Ÿæˆ`sitemap.xml`æ–‡ä»¶å’Œ`baidusitemap.xmlæ–‡ä»¶`ï¼Œå¯ä»¥é€šè¿‡ï¼šhttps://sunhwee.com/baidusitemap.xml, æŸ¥çœ‹è¯¥æ–‡ä»¶æ˜¯å¦ç”Ÿæˆï¼Œå…¶ä¸­`sitemap.xml`æ–‡ä»¶æ˜¯æœç´¢å¼•æ“é€šç”¨çš„æ–‡ä»¶ï¼Œ`baidusitemap.xml`æ˜¯ç™¾åº¦ä¸“ç”¨çš„`sitemap`æ–‡ä»¶ã€‚

##### 1.1.3 å‘ç™¾åº¦æäº¤é“¾æ¥

------

ç„¶åæˆ‘ä»¬å°±å¯ä»¥å°†æˆ‘ä»¬ç”Ÿæˆçš„`sitemap`æ–‡ä»¶æäº¤ç»™ç™¾åº¦ï¼Œè¿˜æ˜¯åœ¨ç™¾åº¦ç«™é•¿å¹³å°ï¼Œæ‰¾åˆ°é“¾æ¥æäº¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ç§æäº¤æ–¹å¼ï¼Œè‡ªåŠ¨æäº¤å’Œæ‰‹åŠ¨æäº¤ï¼Œè‡ªåŠ¨æäº¤åˆåˆ†ä¸ºä¸»åŠ¨æ¨é€ã€è‡ªåŠ¨æ¨é€å’Œ`sitemap`

> å¦‚ä½•é€‰æ‹©é“¾æ¥æäº¤æ–¹å¼
>
> 1. ä¸»åŠ¨æ¨é€ï¼šæœ€ä¸ºå¿«é€Ÿçš„æäº¤æ–¹å¼ï¼Œæ¨èæ‚¨å°†ç«™ç‚¹å½“å¤©æ–°äº§å‡ºé“¾æ¥ç«‹å³é€šè¿‡æ­¤æ–¹å¼æ¨é€ç»™ç™¾åº¦ï¼Œä»¥ä¿è¯æ–°é“¾æ¥å¯ä»¥åŠæ—¶è¢«ç™¾åº¦æ”¶å½•ã€‚
> 2. è‡ªåŠ¨æ¨é€ï¼šæœ€ä¸ºä¾¿æ·çš„æäº¤æ–¹å¼ï¼Œè¯·å°†è‡ªåŠ¨æ¨é€çš„`JS`ä»£ç éƒ¨ç½²åœ¨ç«™ç‚¹çš„æ¯ä¸€ä¸ªé¡µé¢æºä»£ç ä¸­ï¼Œéƒ¨ç½²ä»£ç çš„é¡µé¢åœ¨æ¯æ¬¡è¢«æµè§ˆæ—¶ï¼Œé“¾æ¥ä¼šè¢«è‡ªåŠ¨æ¨é€ç»™ç™¾åº¦ã€‚å¯ä»¥ä¸ä¸»åŠ¨æ¨é€é…åˆä½¿ç”¨ã€‚
> 3. `sitemap`ï¼šæ‚¨å¯ä»¥å®šæœŸå°†ç½‘ç«™é“¾æ¥æ”¾åˆ°`sitemap`ä¸­ï¼Œç„¶åå°†`sitemap`æäº¤ç»™ç™¾åº¦ã€‚ç™¾åº¦ä¼šå‘¨æœŸæ€§çš„æŠ“å–æ£€æŸ¥æ‚¨æäº¤çš„`sitemap`ï¼Œå¯¹å…¶ä¸­çš„é“¾æ¥è¿›è¡Œå¤„ç†ï¼Œä½†æ”¶å½•é€Ÿåº¦æ…¢äºä¸»åŠ¨æ¨é€ã€‚
> 4. æ‰‹åŠ¨æäº¤ï¼šä¸€æ¬¡æ€§æäº¤é“¾æ¥ç»™ç™¾åº¦ï¼Œå¯ä»¥ä½¿ç”¨æ­¤ç§æ–¹å¼ã€‚

ä¸€èˆ¬ä¸»åŠ¨æäº¤æ¯”æ‰‹åŠ¨æäº¤æ•ˆæœå¥½ï¼Œè¿™é‡Œä»‹ç»ä¸»åŠ¨æäº¤çš„ä¸‰ç§æ–¹æ³•

ä»æ•ˆç‡ä¸Šæ¥è¯´ï¼š

> ##### **ä¸»åŠ¨æ¨é€>è‡ªåŠ¨æ¨é€>sitemap**

[

**è¿æ¥æäº¤**



##### 1.1.3.1 è®¾ç½®ä¸»åŠ¨æ¨é€

------

å®‰è£…æ’ä»¶`hexo-baidu-url-submit`



```bash
npm install hexo-baidu-url-submit --save
```



ç„¶åå†æ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶ä¸­æ–°å¢å­—æ®µ



```yml
baidu_url_submit:
  count: 80             # æäº¤æœ€æ–°çš„ä¸€ä¸ªé“¾æ¥
  host: www.sunhwee.com # åœ¨ç™¾åº¦ç«™é•¿å¹³å°ä¸­æ³¨å†Œçš„åŸŸå
  token: xxxxxxxxxxxxxx # è¯·æ³¨æ„è¿™æ˜¯æ‚¨çš„ç§˜é’¥ï¼Œ æ‰€ä»¥è¯·ä¸è¦æŠŠåšå®¢æºä»£ç å‘å¸ƒåœ¨å…¬ä¼—ä»“åº“é‡Œ!
  path: baidu_urls.txt  # æ–‡æœ¬æ–‡æ¡£çš„åœ°å€ï¼Œ æ–°é“¾æ¥ä¼šä¿å­˜åœ¨æ­¤æ–‡æœ¬æ–‡æ¡£é‡Œ
```



å†åŠ å…¥æ–°çš„`deploy`ï¼š



```yml
deploy:
- type: baidu_url_submitter
```







> **æ³¨æ„,**è¿™é‡Œå¤šä¸ª `type` çš„å†™æ³•åº”è¯¥è¿™ä¹ˆå†™**,å‰é¢é‚£ä¸ª `type` æ˜¯æˆ‘æ¨é€åˆ° `Github` ä¸ `Coding`çš„`page`é¡µé¢çš„é…ç½®,åé¢å†è®²è¿™ä¸ªã€‚



**ä¸»åŠ¨æ¨é€æˆåŠŸæç¤º**



> å„ç§ä¸åŒçš„æ¨é€åé¦ˆå­—æ®µè¯´æ˜åœ¨è¿™é‡Œ[æŸ¥çœ‹](https://ziyuan.baidu.com/college/courseinfo?id=267&page=2#h2_article_title8),ä¸€èˆ¬æ¥è¯´,æ¨é€å¤±è´¥åŸºæœ¬éƒ½æ˜¯åœ°å€ä¸ç›¸ç¬¦é€ æˆçš„,æˆ‘ä»¬åªéœ€å¯¹æ¯”`baidu_url_submit`åœ¨`public`ä¸­ç”Ÿæˆçš„`baidu_urls.txt`çš„åœ°å€,ä¸è‡ªå·±å¡«å†™åœ¨`host`å­—æ®µä¸­çš„åœ°å€å¯¹æ¯”çœ‹æ˜¯å¦ä¸€æ ·å³å¯ã€‚

##### 1.1.3.2 è®¾ç½®è‡ªåŠ¨æ¨é€

------

åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸‹è®¾ç½®,å°†`baidu_push`è®¾ç½®ä¸º`true`:



```yml
# Enable baidu push so that the blog will push the url to baidu automatically which is very helpful for SEO
baidu_push: true
```



ç„¶åä¸»é¢˜æ–‡ä»¶ç›®å½•åŠ å…¥ä¸‹é¢ä»£ç ï¼Œä¸€èˆ¬åœ¨ç›®å½•`/themes/matery/layout/_partial`ä¸­çš„`head.ejs`ä¸­åŠ å…¥ä¸‹é¢`JS`ä»£ç ï¼ˆæœ‰å¯èƒ½ä½ çš„ç›®å½•ä¸æ˜¯è¿™æ ·ï¼ŒåŸç†ç±»ä¼¼ï¼‰ï¼Œè¿™æ ·å…¨ç«™éƒ½æœ‰äº†ï¼š



```js
<% if (theme.baidu_push) { %>
    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>
<% } %> 
```

Js

è¿™æ ·æ¯æ¬¡è®¿é—®åšå®¢ä¸­çš„é¡µé¢å°±ä¼šè‡ªåŠ¨å‘ç™¾åº¦æäº¤`sitemap`

##### 1.1.3.3 **sitemap**æ–¹å¼

------

å°†æˆ‘ä»¬ä¸Šä¸€æ­¥ç”Ÿæˆçš„`sitemap`æ–‡ä»¶æäº¤åˆ°ç™¾åº¦å°±å¯ä»¥äº†~



**å°†sitemapæäº¤åˆ°ç™¾åº¦**


æˆ‘è®°å¾—è¢«ç™¾åº¦æ”¶å½•è¿‡ç¨‹è¿˜æ˜¯è›®ä¹…çš„ï¼Œä¸€åº¦è®©æˆ‘ä»¥ä¸ºæˆ‘çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œæäº¤é“¾æ¥åœ¨ç«™é•¿å·¥å…·ä¸­æœ‰æ˜¾ç¤ºå¤§æ¦‚æ˜¯æœ‰ä¸¤å¤©çš„æ—¶å€™ï¼Œç«™ç‚¹è¢«ç™¾åº¦æ”¶å½•å¤§æ¦‚èŠ±äº†åŠä¸ªæœˆ= =ï¼Œè®©å¤§å®¶çœ‹ä¸€ä¸‹ç°åœ¨çš„æˆæœ
åœ¨ç™¾åº¦æœç´¢`site:sunhwee.com`å·²ç»å¯ä»¥æœç´¢åˆ°ç»“æœ

![](https://img-blog.csdnimg.cn/img_convert/7f0a83986048c3a2938d48e26b7fd151.png)

**ç«™ç‚¹å·²è¢«ç™¾åº¦æ”¶å½•**

**ç«™ç‚¹å·²è¢«ç™¾åº¦æ”¶å½•**



#### 1.2 è®©googleæ”¶å½•ä½ çš„ç«™ç‚¹

------

#### 1.2.1 æ“ä½œæ­¥éª¤

ç›¸æ¯”äºç™¾åº¦ï¼Œ`google`çš„æ•ˆç‡å®åœ¨ä¸èƒ½æ›´å¿«ï¼Œè²Œä¼¼ååˆ†é’Ÿå·¦å³ç«™ç‚¹å°±è¢«æ”¶å½•äº†ï¼Œå…¶å®æ–¹æ³•æ˜¯å’Œç™¾åº¦æ˜¯ä¸€æ ·çš„ã€‚

`google`ç«™ç‚¹å¹³å°ï¼šhttps://www.google.com/webmasters/

- æ³¨å†Œè´¦å·
- éªŒè¯ç«™ç‚¹
- æäº¤`sitemap`

> å‘ `google` æ·»åŠ  `sitemap` å: è¿›å…¥ `Google Search Console` - æŠ“å– - ç«™ç‚¹åœ°å›¾,ç‚¹å‡»ã€Œæ·»åŠ /æµ‹è¯•ç«™ç‚¹åœ°å›¾ã€,è¾“å…¥ä½ çš„åšå®¢ç½‘å€. è‹¥æ— æŠ¥é”™åˆ™ç«™ç‚¹åœ°å›¾æäº¤æˆåŠŸ



**sitemapæäº¤æˆåŠŸ**



ä¸€æ­¥ä¸€æ­¥æ¥å°±å¥½ï¼Œè¿‡ä¸äº†è¿‡ä¹…å°±å¯ä»¥è¢«`google`æ”¶å½•äº†



**ç«™ç‚¹å·²è¢«googleæ”¶å½•**



#### 1.2.2 æäº¤ robots.txt:

`robots.txt` æ˜¯ä¸€ç§å­˜æ”¾äºç½‘ç«™æ ¹ç›®å½•ä¸‹çš„ `ASCII` ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰æœç´¢å¼•æ“æ­¤ç½‘ç«™ä¸­å“ªäº›å†…å®¹æ˜¯å¯ä»¥è¢«çˆ¬å–çš„ï¼Œå“ªäº›æ˜¯ç¦æ­¢çˆ¬å–çš„ã€‚`robots.txt` æ”¾åœ¨åšå®¢ç›®å½•ä¸‹çš„ `source` æ–‡ä»¶å¤¹ä¸­ï¼Œåšå®¢ç”Ÿæˆååœ¨ç«™ç‚¹ç›®å½• `/public/` ä¸‹ã€‚

æˆ‘çš„ `robots.txt` æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š



```yml
User-agent: *
Allow: /
Allow: /archives/
Allow: /categories/
Allow: /about/
Disallow: /js/
Disallow: /css/
Disallow: /fonts/
Disallow: /vendors/
```

Yml

`robots.txt` æ–‡ä»¶æ›´æ–°è‡³ç½‘ç«™åå¯è¿›å…¥ `Google Search Console` - æŠ“å– - `robots.txt` æµ‹è¯•å·¥å…·è¿›è¡Œæµ‹è¯•ã€‚

è¿™é‡Œéƒ¨åˆ†å‚è€ƒè‡ª`Hexo`åšå®¢æœç´¢ [SEOä¼˜åŒ–-è°·æ­Œç¯‡](https://fedoryx.github.io/Hexo-åšå®¢æœç´¢-SEO-ä¼˜åŒ–-è°·æ­Œç¯‡/)

#### 1.3 è®©å…¶ä»–æœç´¢å¼•æ“æ”¶å½•ä½ çš„ç«™ç‚¹

------

é™¤äº†ç™¾åº¦å’Œ`google`ä¸¤å¤§æœç´¢å¼•æ“ï¼Œè¿˜æœ‰æœç‹—ã€360ç­‰å…¶ä»–çš„æœç´¢å¼•æ“ï¼Œæµç¨‹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¤§å®¶å°±è‡ªè¡Œé€‰æ‹©æ·»åŠ å“ˆï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†~

#### 1.4 ä¼˜åŒ–ä½ çš„url

------

```
seo`æœç´¢å¼•æ“ä¼˜åŒ–è®¤ä¸ºï¼Œç½‘ç«™çš„æœ€ä½³ç»“æ„æ˜¯**ç”¨æˆ·ä»é¦–é¡µç‚¹å‡»ä¸‰æ¬¡å°±å¯ä»¥åˆ°è¾¾ä»»ä½•ä¸€ä¸ªé¡µé¢**ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨`hexo`ç¼–è¯‘çš„ç«™ç‚¹æ‰“å¼€æ–‡ç« çš„`url`æ˜¯ï¼š`sitename/year/mounth/day/title`å››å±‚çš„ç»“æ„ï¼Œè¿™æ ·çš„`url`ç»“æ„å¾ˆä¸åˆ©äº`seo`ï¼Œçˆ¬è™«å°±ä¼šç»å¸¸çˆ¬ä¸åˆ°æˆ‘ä»¬çš„æ–‡ç« ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä¼˜åŒ–ä¸€ä¸‹ç½‘ç«™æ–‡ç« `url
```

æ–¹æ¡ˆä¸€ï¼š

æˆ‘ä»¬å¯ä»¥å°†`url`ç›´æ¥æ”¹æˆ`sitename/title`çš„å½¢å¼ï¼Œå¹¶ä¸”`title`æœ€å¥½æ˜¯ç”¨è‹±æ–‡ï¼Œåœ¨æ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶ä¸‹ä¿®æ”¹`permalink`å¦‚ä¸‹ï¼š



```yml
url: https://sunhwee.com
root: /
permalink: :title.html
permalink_defaults:
```



æ–¹æ¡ˆäºŒï¼š

ä½¿ç”¨æ’ä»¶ä¼˜åŒ–`url`

æ’ä»¶`hexo-abbrlink`å®ç°äº†è¿™ä¸ªåŠŸèƒ½ï¼Œå®ƒå°†åŸæ¥çš„`URL`åœ°å€é‡æ–°è¿›è¡Œäº†è¿›åˆ¶è½¬æ¢å’Œå†ç¼–ç ã€‚

å®‰è£…`hexo-abbrlink`ã€‚



```bash
npm install hexo-abbrlink --save
```

Bash

é…ç½®åšå®¢æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ã€‚



```yml
# permalink: :title/
permalink: archives/:abbrlink.html
abbrlink:
  alg: crc32  # ç®—æ³•ï¼šcrc16(default) and crc32
  rep: hex    # è¿›åˆ¶ï¼šdec(default) and hex
```



è¿è¡Œ`hexo clean`å’Œ`hexo g`å‘½ä»¤æ¥é‡æ–°ç”Ÿæˆæ–‡ä»¶çœ‹çœ‹ï¼Œå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œ`URL`ç»“æ„æˆåŠŸå˜ä¸ºäº†3å±‚ã€‚

#### 1.5 å…¶ä»–seoä¼˜åŒ–

------

`seo`ä¼˜åŒ–åº”è¯¥è¯´æ˜¯ä¸€ä¸ªæ”¶ç›Šå»¶è¿Ÿçš„è¡Œä¸ºï¼Œå¯èƒ½ä½ åšçš„ä¼˜åŒ–çŸ­æœŸå†…çœ‹ä¸åˆ°ä»€ä¹ˆæ•ˆæœï¼Œä½†æ˜¯ä¸€å®šè¦åšæŒï¼Œ`seo`ä¼˜åŒ–ä¹Ÿæ˜¯æœ‰å¾ˆæ·±çš„å¯ä»¥ç ”ç©¶çš„ä¸œè¥¿ï¼Œä»æˆ‘ä»¬æœ€åˆçš„ç½‘ç«™è®¾è®¡ï¼Œå’Œæœ€åŸºç¡€çš„æ ‡ç­¾çš„é€‰æ‹©éƒ½æœ‰å¾ˆå¤§çš„å…³ç³»ï¼Œç½‘ç«™è®¾è®¡å°±å¦‚æˆ‘ä»¬åˆšåˆšè¯´çš„ï¼Œè¦è®©ç”¨æˆ·ç‚¹å‡»ä¸‰æ¬¡å¯ä»¥åˆ°è¾¾ç½‘ç«™çš„ä»»ä½•ä¸€ä¸ªé¡µé¢ï¼Œè¦å¢åŠ é«˜è´¨é‡çš„å¤–é“¾ï¼Œå¢åŠ ç›¸å…³æ¨èï¼ˆæ¯”å¦‚è¯´æˆ‘ä»¬ç»å¸¸è§åˆ°å³ä¾§æœ¬ç«™çš„æœ€é«˜é˜…è¯»çš„æ’ååˆ—è¡¨ï¼‰ï¼Œç„¶åå°±æ˜¯ç»™æ¯ä¸€ä¸ªé¡µé¢åŠ ä¸Š`keyword`å’Œæè¿°

åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥å†™å‡ºèƒ½è®©æµè§ˆå™¨è¯†åˆ«çš„è¯­ä¹‰åŒ–`HTML`ï¼Œè¿™æ ·æœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼šçˆ¬è™«ä¾èµ–äºæ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼›å¹¶ä¸”å¯¹å¤–é“¾è®¾ç½®`nofollow`æ ‡ç­¾ï¼Œé¿å…`spider`çˆ¬ç€çˆ¬ç€å°±çˆ¬å‡ºå»äº†ï¼ˆå‡å°‘ç½‘ç«™çš„è·³å‡ºç‡ï¼‰ï¼Œå¹¶ä¸”æˆ‘ä»¬è¦å°½é‡åœ¨ä¸€äº›æ¯”è¾ƒå¤§çš„ç½‘ç«™å¢åŠ æˆ‘ä»¬ç«™ç‚¹çš„æ›å…‰ç‡ï¼Œå› ä¸º`spider`ä¼šç»å¸¸è®¿é—®å¤§ç«™ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨æ˜é‡‘ç­‰æŠ€æœ¯ç¤¾åŒºå‘è¡¨æ–‡ç« ä¸­å¸¦æœ‰æˆ‘ä»¬çš„ç«™ç‚¹ï¼Œè¿™æ ·`spider`æ˜¯å¾ˆæœ‰å¯èƒ½çˆ¬åˆ°æˆ‘ä»¬ä¸­çš„ç«™ç‚¹çš„ï¼Œsoâ€¦.

- ç½‘ç«™**å¤–é“¾**çš„æ¨å¹¿åº¦ã€æ•°é‡å’Œè´¨é‡
- ç½‘ç«™çš„**å†…é“¾**è¶³å¤Ÿå¼ºå¤§
- ç½‘ç«™çš„**åŸåˆ›**è´¨é‡
- ç½‘ç«™çš„**å¹´é¾„**æ—¶é—´
- ç½‘ç«™çš„**æ›´æ–°é¢‘ç‡**ï¼ˆæ›´æ–°æ¬¡æ•°è¶Šå¤šè¶Šå¥½ï¼‰
- ç½‘ç«™çš„**æœåŠ¡å™¨**
- ç½‘ç«™çš„**æµé‡**ï¼šæµé‡è¶Šé«˜ç½‘ç«™çš„æƒé‡è¶Šé«˜
- ç½‘ç«™çš„**å…³é”®è¯æ’å**ï¼šå…³é”®è¯æ’åè¶Šé å‰ï¼Œç½‘ç«™çš„æƒé‡è¶Šé«˜
- ç½‘ç«™çš„**æ”¶å½•**æ•°é‡ï¼šç½‘ç«™ç™¾åº¦æ”¶å½•æ•°é‡è¶Šå¤šï¼Œç½‘ç«™ç™¾åº¦æƒé‡è¶Šé«˜
- ç½‘ç«™çš„æµè§ˆé‡åŠæ·±åº¦ï¼š**ç”¨æˆ·ä½“éªŒ**è¶Šå¥½ï¼Œç½‘ç«™çš„ç™¾åº¦æƒé‡è¶Šé«˜

### 2. ä¼˜åŒ–ä»£ç å—æ ·å¼

------

ç”±äºä»£ç é«˜äº®æ’ä»¶`prism_plugin`çš„æ ·å¼æ²¡æœ‰è¡Œå·æ˜¾ç¤ºå’Œä»£ç å—æ•´ä½“å¤åˆ¶åŠŸèƒ½ï¼Œä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä¸ºäº†ä¼˜åŒ–è§‚æ„Ÿå’Œæ˜“ç”¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼š
å¾…ç»­â€¦â€¦

##### 2.1 ç»™ä»£ç å—å¼€å¯è¡Œå·

------

æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶`.yml`ä¸­æ‰¾åˆ°`prism_plugin`é…ç½®é¡¹`line_number: falseï¼ˆ# default falseï¼‰`æ”¹ä¸º`true`ï¼Œå¼€å¯è¡Œå·ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬è¿™ä¸ª`matery`ä¸»é¢˜ä¸­ä¸­æ˜¯æ— æ•ˆçš„ï¼Œæœ‰`bug`éœ€è¦æ”¹ä¸€ä¸‹`matery.css`æ ·å¼å‚æ•°,åœ¨ç¬¬`95`è¡Œä½ç½®å°†ï¼š



```css
pre {
    padding: 1.5rem !important;
    margin: 1rem 0 !important;
    background: #272822;
    overflow: auto;
    border-radius: 0.35rem;
    tab-size: 4;
}
```

Css

æ”¹ä¸ºï¼š



```css
pre {
    padding: 1.5rem 1.5rem 1.5rem 3.3rem !important;
    margin: 1rem 0 !important;
    background: #272822;
    overflow: auto;
    border-radius: 0.35rem;
    tab-size: 4;
}
```

Css

æ³¨é‡Šæ‰ç´§æ¥ç€çš„`code`ä»£ç å—é‡Œé¢çš„`font-size`é¡¹ï¼Œå¦‚ä¸‹ï¼š



```css
code {
    padding: 1px 5px;
    font-family: Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace;
    /*font-size: 0.91rem;*/
    color: #e96900;
    background-color: #f8f8f8;
    border-radius: 2px;
}
```


**ä»£ç å—æ˜¾ç¤ºè¡Œå·**



#### 2.2 æ·»åŠ ä»£ç å—å¤åˆ¶åŠŸèƒ½

------

### 3. ä¼˜åŒ–ç½‘ç«™åŠ è½½é€Ÿåº¦

------

#### 3.1 ä¼˜åŒ–å›¾ç‰‡åŠ è½½

------

`issue`é—®é¢˜ï¼š
ä¼˜åŒ–ç½‘ç«™åŠ è½½é€»è¾‘é—®é¢˜ï¼šå›¾ç‰‡æœ€ååŠ è½½ï¼ŒåŠ å…¥å›¾ç‰‡æ‡’åŠ è½½æ–¹æ³•

hexo-lazyload-imageçš„ä½œç”¨åŸç†æ˜¯è®²ä½ åšå®¢é‡Œé¢imgæ ‡ç­¾çš„srcå±æ€§æ›¿æ¢ä¸ºä¸€ä¸ªloading imageï¼ŒæŠŠçœŸå®çš„å›¾ç‰‡åœ°å€æ”¾åœ¨data-originå±æ€§ä¸‹é¢ã€‚ç„¶åå½“ä½ çš„ç½‘é¡µç¿»åˆ°é‚£å¼ å›¾ç‰‡æ—¶ï¼ˆä¹Ÿå°±æ˜¯å›¾ç‰‡åœ¨çª—å£ä¸­å®Œå…¨å¯è§æ—¶ï¼‰ï¼Œä»–ä¼šæœ‰ä¸€æ®µjsç”¨data-originçš„å†…å®¹æ›¿æ¢srcï¼Œæ‰“åˆ°æ‡’åŠ è½½çš„ç›®çš„ã€‚

ä¸€èˆ¬æƒ…å†µä¸‹æ‡’åŠ è½½å’Œgalleryæ’ä»¶ä¼šå‘ç”Ÿå†²çªï¼Œæ¯”å¦‚æŒ‰ç…§æˆ‘ä¸Šé¢æ‰€è¯´ï¼Œæœ€ç»ˆç»“æœå°±ä¼šå˜æˆï¼Œå¯èƒ½åªæœ‰ç¬¬ä¸€å¼ å›¾ç‰‡åœ¨galleryä¸­æ‰“å¼€æ˜¯åŸå›¾ï¼Œå³ç¿»å·¦ç¿»éƒ½ä¼šæ˜¯é‚£å¼ loading imageï¼Œéœ€è¦ä½ æŒæ¡jsï¼Œå¯ä»¥ä¿®æ”¹matery.jsé‡Œé¢çš„å†…å®¹ï¼Œç”šè‡³å¯èƒ½æ¢ä¸€ä¸ªgalleryï¼Œæ¯”å¦‚photosiwpeä¹‹ç±»çš„

è§£å†³æ–¹æ³•ï¼šä¿®æ”¹`/themes/matery/source/js`ä¸­çš„`matery.js`æ–‡ä»¶

ç¬¬103è¡Œï¼š



```js
$('#articleContent, #myGallery').lightGallery({
    selector: '.img-item',
    // å¯ç”¨å­—å¹•
    subHtmlSelectorRelative: true,
    showThumbByDefault: false   //è¿™å¥åŠ ä¸Š
});
```



åé¢åŠ ä¸Šï¼š



```js
$(document).find('img[data-original]').each(function(){
    $(this).parent().attr("href", $(this).attr("data-original"));
});
```



å†è£…ä¸ªæ’ä»¶ï¼Œhttps://github.com/Troy-Yang/hexo-lazyload-image
åœ¨åšå®¢æ ¹ç›®å½•é…ç½®.ymlæ–‡ä»¶åŠ å…¥å¯¹åº”å­—æ®µï¼Œå¦‚ä¸‹ï¼š



```yml
# lazyload configuration  2019.08.23
lazyload:
  enable: true 
  onlypost: false
  loadingImg:     # eg ./images/loading.gif
```



å¥½äº†ï¼Œè¿™æ ·å®ç°äº†åšå®¢ç½‘ç«™çš„å›¾ç‰‡æ‡’åŠ è½½ã€‚

#### 3.2 Gulpå®ç°ä»£ç å‹ç¼©

------

`Gulp`å®ç°ä»£ç å‹ç¼©ï¼Œä»¥æå‡ç½‘é¡µåŠ è½½é€Ÿåº¦ã€‚

1 é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…Gulpæ’ä»¶å’Œ5ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œä¾æ¬¡è¿è¡Œä¸‹é¢çš„ä¸¤æ¡å‘½ä»¤ã€‚



```bash
npm install gulp --save  #å®‰è£…gulp
# å®‰è£…åŠŸèƒ½æ¨¡å—
npm install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save
# é¢å¤–çš„åŠŸèƒ½æ¨¡å—
npm install gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del --save
```



2 æ¥ä¸‹æ¥åœ¨åšå®¢çš„æ ¹ç›®å½•ä¸‹æ–°å»ºgulpfile.jsæ–‡ä»¶ï¼Œå¹¶å¤åˆ¶ä¸‹é¢çš„å†…å®¹åˆ°æ–‡ä»¶ä¸­ã€‚



```js
var gulp = require("gulp");
var debug = require("gulp-debug");
var cleancss = require("gulp-clean-css"); //csså‹ç¼©ç»„ä»¶
var uglify = require("gulp-uglify"); //jså‹ç¼©ç»„ä»¶
var htmlmin = require("gulp-htmlmin"); //htmlå‹ç¼©ç»„ä»¶
var htmlclean = require("gulp-htmlclean"); //htmlæ¸…ç†ç»„ä»¶
var imagemin = require("gulp-imagemin"); //å›¾ç‰‡å‹ç¼©ç»„ä»¶
var changed = require("gulp-changed"); //æ–‡ä»¶æ›´æ”¹æ ¡éªŒç»„ä»¶
var gulpif = require("gulp-if"); //ä»»åŠ¡ å¸®åŠ©è°ƒç”¨ç»„ä»¶
var plumber = require("gulp-plumber"); //å®¹é”™ç»„ä»¶ï¼ˆå‘ç”Ÿé”™è¯¯ä¸è·³å‡ºä»»åŠ¡ï¼Œå¹¶æŠ¥å‡ºé”™è¯¯å†…å®¹ï¼‰
var isScriptAll = true; //æ˜¯å¦å¤„ç†æ‰€æœ‰æ–‡ä»¶ï¼Œ(true|å¤„ç†æ‰€æœ‰æ–‡ä»¶)(false|åªå¤„ç†æœ‰æ›´æ”¹çš„æ–‡ä»¶)
var isDebug = true; //æ˜¯å¦è°ƒè¯•æ˜¾ç¤º ç¼–è¯‘é€šè¿‡çš„æ–‡ä»¶
var gulpBabel = require("gulp-babel");
var es2015Preset = require("babel-preset-es2015");
var del = require("del");
var Hexo = require("hexo");
var hexo = new Hexo(process.cwd(), {}); // åˆå§‹åŒ–ä¸€ä¸ªhexoå¯¹è±¡

// æ¸…é™¤publicæ–‡ä»¶å¤¹
gulp.task("clean", function() {
  return del(["public/**/*"]);
});

// ä¸‹é¢å‡ ä¸ªè·Ÿhexoæœ‰å…³çš„æ“ä½œï¼Œä¸»è¦é€šè¿‡hexo.call()å»æ‰§è¡Œï¼Œæ³¨æ„return
// åˆ›å»ºé™æ€é¡µé¢ ï¼ˆç­‰åŒ hexo generateï¼‰
gulp.task("generate", function() {
  return hexo.init().then(function() {
    return hexo
      .call("generate", {
        watch: false
      })
      .then(function() {
        return hexo.exit();
      })
      .catch(function(err) {
        return hexo.exit(err);
      });
  });
});

// å¯åŠ¨HexoæœåŠ¡å™¨
gulp.task("server", function() {
  return hexo
    .init()
    .then(function() {
      return hexo.call("server", {});
    })
    .catch(function(err) {
      console.log(err);
    });
});

// éƒ¨ç½²åˆ°æœåŠ¡å™¨
gulp.task("deploy", function() {
  return hexo.init().then(function() {
    return hexo
      .call("deploy", {
        watch: false
      })
      .then(function() {
        return hexo.exit();
      })
      .catch(function(err) {
        return hexo.exit(err);
      });
  });
});

// å‹ç¼©publicç›®å½•ä¸‹çš„jsæ–‡ä»¶
gulp.task("compressJs", function() {
  return gulp
    .src(["./public/**/*.js", "!./public/libs/**"]) //æ’é™¤çš„js
    .pipe(gulpif(!isScriptAll, changed("./public")))
    .pipe(gulpif(isDebug, debug({ title: "Compress JS:" })))
    .pipe(plumber())
    .pipe(
      gulpBabel({
        presets: [es2015Preset] // es5æ£€æŸ¥æœºåˆ¶
      })
    )
    .pipe(uglify()) //è°ƒç”¨å‹ç¼©ç»„ä»¶æ–¹æ³•uglify(),å¯¹åˆå¹¶çš„æ–‡ä»¶è¿›è¡Œå‹ç¼©
    .pipe(gulp.dest("./public")); //è¾“å‡ºåˆ°ç›®æ ‡ç›®å½•
});

// å‹ç¼©publicç›®å½•ä¸‹çš„cssæ–‡ä»¶
gulp.task("compressCss", function() {
  var option = {
    rebase: false,
    //advanced: true,               //ç±»å‹ï¼šBoolean é»˜è®¤ï¼štrue [æ˜¯å¦å¼€å¯é«˜çº§ä¼˜åŒ–ï¼ˆåˆå¹¶é€‰æ‹©å™¨ç­‰ï¼‰]
    compatibility: "ie7" //ä¿ç•™ie7åŠä»¥ä¸‹å…¼å®¹å†™æ³• ç±»å‹ï¼šString é»˜è®¤ï¼š''or'*' [å¯ç”¨å…¼å®¹æ¨¡å¼ï¼› 'ie7'ï¼šIE7å…¼å®¹æ¨¡å¼ï¼Œ'ie8'ï¼šIE8å…¼å®¹æ¨¡å¼ï¼Œ'*'ï¼šIE9+å…¼å®¹æ¨¡å¼]
    //keepBreaks: true,             //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse [æ˜¯å¦ä¿ç•™æ¢è¡Œ]
    //keepSpecialComments: '*'      //ä¿ç•™æ‰€æœ‰ç‰¹æ®Šå‰ç¼€ å½“ä½ ç”¨autoprefixerç”Ÿæˆçš„æµè§ˆå™¨å‰ç¼€ï¼Œå¦‚æœä¸åŠ è¿™ä¸ªå‚æ•°ï¼Œæœ‰å¯èƒ½å°†ä¼šåˆ é™¤ä½ çš„éƒ¨åˆ†å‰ç¼€
  };
  return gulp
    .src(["./public/**/*.css", "!./public/**/*.min.css"]) //æ’é™¤çš„css
    .pipe(gulpif(!isScriptAll, changed("./public")))
    .pipe(gulpif(isDebug, debug({ title: "Compress CSS:" })))
    .pipe(plumber())
    .pipe(cleancss(option))
    .pipe(gulp.dest("./public"));
});

// å‹ç¼©publicç›®å½•ä¸‹çš„htmlæ–‡ä»¶
gulp.task("compressHtml", function() {
  var cleanOptions = {
    protect: /<\!--%fooTemplate\b.*?%-->/g, //å¿½ç•¥å¤„ç†
    unprotect: /<script [^>]*\btype="text\/x-handlebars-template"[\s\S]+?<\/script>/gi //ç‰¹æ®Šå¤„ç†
  };
  var minOption = {
    collapseWhitespace: true, //å‹ç¼©HTML
    collapseBooleanAttributes: true, //çœç•¥å¸ƒå°”å±æ€§çš„å€¼  <input checked="true"/> ==> <input />
    removeEmptyAttributes: true, //åˆ é™¤æ‰€æœ‰ç©ºæ ¼ä½œå±æ€§å€¼    <input id="" /> ==> <input />
    removeScriptTypeAttributes: true, //åˆ é™¤<script>çš„type="text/javascript"
    removeStyleLinkTypeAttributes: true, //åˆ é™¤<style>å’Œ<link>çš„type="text/css"
    removeComments: true, //æ¸…é™¤HTMLæ³¨é‡Š
    minifyJS: true, //å‹ç¼©é¡µé¢JS
    minifyCSS: true, //å‹ç¼©é¡µé¢CSS
    minifyURLs: true //æ›¿æ¢é¡µé¢URL
  };
  return gulp
    .src("./public/**/*.html")
    .pipe(gulpif(isDebug, debug({ title: "Compress HTML:" })))
    .pipe(plumber())
    .pipe(htmlclean(cleanOptions))
    .pipe(htmlmin(minOption))
    .pipe(gulp.dest("./public"));
});

// å‹ç¼© public/uploads ç›®å½•å†…å›¾ç‰‡
gulp.task("compressImage", function() {
  var option = {
    optimizationLevel: 5, //ç±»å‹ï¼šNumber  é»˜è®¤ï¼š3  å–å€¼èŒƒå›´ï¼š0-7ï¼ˆä¼˜åŒ–ç­‰çº§ï¼‰
    progressive: true, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse æ— æŸå‹ç¼©jpgå›¾ç‰‡
    interlaced: false, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“
    multipass: false //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ–
  };
  return gulp
    .src("./public/medias/**/*.*")
    .pipe(gulpif(!isScriptAll, changed("./public/medias")))
    .pipe(gulpif(isDebug, debug({ title: "Compress Images:" })))
    .pipe(plumber())
    .pipe(imagemin(option))
    .pipe(gulp.dest("./public"));
});
// æ‰§è¡Œé¡ºåºï¼š æ¸…é™¤publicç›®å½• -> äº§ç”ŸåŸå§‹åšå®¢å†…å®¹ -> æ‰§è¡Œå‹ç¼©æ··æ·† -> éƒ¨ç½²åˆ°æœåŠ¡å™¨
gulp.task(
  "build",
  gulp.series(
    "clean",
    "generate",
    "compressHtml",
    "compressCss",
    "compressJs",
    "compressImage",
    gulp.parallel("deploy")
  )
);

// é»˜è®¤ä»»åŠ¡
gulp.task(
  "default",
  gulp.series(
    "clean",
    "generate",
    gulp.parallel("compressHtml", "compressCss", "compressImage", "compressJs")
  )
);
//Gulp4æœ€å¤§çš„ä¸€ä¸ªæ”¹å˜å°±æ˜¯gulp.taskå‡½æ•°ç°åœ¨åªæ”¯æŒä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ä»»åŠ¡åå’Œè¿è¡Œä»»åŠ¡çš„å‡½æ•°
```



3 æœ€å `hexo clean` && `hexo g` && `gulp` && `hexo d` å°±å¯ä»¥äº†ã€‚

> æ³¨æ„ï¼Œå¾ˆå¯èƒ½ä½ ä¼šè¿è¡Œåˆ°ç¬¬ä¸‰æ­¥ï¼Œä¹Ÿå°±æ˜¯è¿è¡Œ`gulp`å‹ç¼©å‘½ä»¤æ—¶ä¼šæŠ¥é”™



**gulpè¿è¡Œé”™è¯¯**



é‚£æ˜¯å› ä¸ºgulpå®‰è£…çš„æœ¬åœ°ç‰ˆæœ¬å’Œhexoè‡ªå¸¦çš„ç‰ˆæœ¬ä¸å¯¹åº”å¯¼è‡´ï¼Œç¬¬ä¸‰æ­¥gulpå‹ç¼©å¯ä»¥ç”¨ä¸‹é¢å‘½ä»¤å¼ºåˆ¶ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬ï¼š



```bash
node ./node_modules/gulp/bin/gulp.js
```



#### 3.3 Github & Coding Pages åŒéƒ¨ç½²

------

`Github` & `Coding Pages` åŒéƒ¨ç½²,å¯¹å›½å†…,å›½å¤–ç”¨æˆ·è¿›è¡Œåˆ†æµè®¿é—®,ä»¥æå‡ç½‘ç«™çš„è®¿é—®é€Ÿåº¦.
`Github Pages` çš„éƒ¨ç½²å‰é¢å·²ç»è¯´äº†,è¿™é‡Œå°±è®²ä¸€è®² `Coding Pages` å¦‚ä½•éƒ¨ç½².å…¶å®ä¸ `Github Pages` ä¹Ÿç±»ä¼¼,å…ˆåˆ°`coding`å®˜ç½‘æ³¨å†Œ,åˆ›å»ºä¸€ä¸ªä¸ç”¨æˆ·ååŒåçš„ä»“åº“,æ·»åŠ ä»“åº“åœ°å€åˆ°é…ç½®æ–‡ä»¶ä¸­,åœ¨æ ¹ç›®å½•`_config.yml`å¯¹åº”åœ°æ–¹æ·»åŠ å¦‚ä¸‹:



```yml
# Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
- type: git
  repo:
    github: https://github.com/shw2018/shw2018.github.io.git  # github ä»“åº“åœ°å€
    coding: https://git.dev.tencent.com/sunhwee/sunhwee.git   # coding ä»“åº“åœ°å€
  branch: master
- type: baidu_url_submitter
```



æŠŠæœ¬åœ°ç”Ÿæˆ `SSH` å…¬åŒ™æ·»åŠ åˆ° `Coding` è¿™ä¸€æ­¥çœ‹æˆ‘å‰é¢çš„æ•™ç¨‹,åŸç†ç±»ä¼¼.

ç„¶å `hexo clean` &&ã€€`hexo g` && `hexo d` éƒ¨ç½²ä¸Šå»å°±æ˜¯äº†ï¼

å½“ç„¶ï¼Œéƒ¨ç½²ä¸Šå»åï¼Œä½ éœ€è¦å¼€å¯ `page` æœåŠ¡.

ä½ å¯ä»¥åœ¨ `pages` è®¾ç½®é‡Œé¢è‡ªå®šä¹‰åŸŸåï¼ŒåŒºåŸŸåè§£ææ§åˆ¶å°ï¼Œæ·»åŠ ä¸¤æ¡ `CNAME` è®°å½•ï¼Œå°†åŸŸåæŒ‡å‘`RepoName.coding.me`å°±å¯ä»¥çš„ï¼Œç”³è¯· `ssl` è¯ä¹¦ï¼Œå¼ºåˆ¶å¼€å¯`https`

> **å¯èƒ½é‡åˆ°çš„é—®é¢˜:**

**ï¼»coding pages ç”³è¯·ssl è¯ä¹¦æ€»æ˜¯æç¤ºï¼šé”™è¯¯ï¼ï¼½**
è¿™é‡Œæä¸€å¥ï¼Œå¦‚æœä½ æ˜¯`github pages` å’Œ `coding pages`åŒéƒ¨ç½²ï¼Œç”¨**åŒä¸€ä¸ªåŸŸå**çš„è¯ï¼Œå¯ä»¥å°†`xxx.github.io` è§£ææˆ `å¢ƒå¤–`, `xxx.coding.me` è§£ææˆ `é»˜è®¤`,è¿™ä¸ªæ—¶å€™å¦‚æœä½ ä¹‹å‰å°±ç”³è¯·è¿‡ `ssl` è¯ä¹¦çš„è¯ï¼Œå†åœ¨ `coding` é‡Œé¢ç”³è¯· `ssl`è¯ä¹¦ä¼šä¸€ç›´æç¤º `å¤±è´¥`,è§£å†³åŠæ³•ï¼š

å…ˆå»åŸŸåè§£ææ§åˆ¶å°ï¼Œå°†å¢ƒå¤–è§£æçš„ä¸¤æ¡ `CNAME` è®°å½• `æš‚åœ`,è¿‡ä¸ªäº”å…­åˆ†é’Ÿï¼Œå›åˆ° `coding` ç‚¹å‡»ç”³è¯· `ssl`,å¾ˆå¿«å°±ä¼šæç¤ºï¼Œç”³è¯·æˆåŠŸï¼

åˆšå¥½æˆ‘è¿‡ç¨‹ä¸­é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥æŠŠå®ƒè®°ä¸‹æ¥ï¼Œæ–¹ä¾¿åé¢çš„å°ä¼™ä¼´çœ‹åˆ°ï¼

**åˆ°è¿™é‡Œæ•´ä¸ªHexoåšå®¢éƒ¨ç½²ç¾åŒ–æ•™ç¨‹å°±å®Œç»“å•¦,å¤§å®¶å¿«è¡ŒåŠ¨èµ·æ¥ï¼Œå¼€å§‹è‡ªå·±çš„Hexoä¹‹æ—…å§ï¼ï¼**